#coding=utf-8
import unittest
import requests
import os, sys
import hashlib
parentdir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
sys.path.insert(0, parentdir)

class CountdetailTest(unittest.TestCase):

    def setUp(self):
        self.base_url = 'http://bossdev.epoque.cn'
        self.maxDiff = None
        md5 = hashlib.md5()
        sign_str = '000000'
        sign_bytes_utf8 = sign_str.encode(encoding='utf-8')
        md5.update(sign_bytes_utf8)
        password = md5.hexdigest()
        self.session = requests.Session()
        payload = {'username': 'admin', 'password': password}
        url = self.base_url + '/auth/entry'
        self.login_success = self.session.post(url, data=payload)
        self.cookie = self.login_success.cookies

    def tearDown(self):
        print self.result

    def test_search_scanner_id(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=BL170961&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-31&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'1', u'running_total_day': u'1', u'scan_count': u'3', u'rate': u'100%', u'wechat_count': u'1', u'upload_count': u'3', u'scandata': u'1'}, u'paging': {u'page_count': 1, u'total_count': u'1', u'record_end': u'1', u'record_start': 1}, u'list': [{u'province': u'\u91cd\u5e86\u5e02', u'city': u'\u91cd\u5e86\u5e02', u'reportdata': u'1', u'rate': u'100', u'shop_address': u'\u91cd\u5e86\u5e02\u5e02\u8f96\u533a\u5357\u5cb8\u533a\u60e0\u5de5\u8def192\u53f7\u65b0\u4e16\u7eaa\u4e8c\u697c', u'scanner_id': u'BL170961', u'scan_count': u'3', u'brand': u'ST', u'shop_class': None, u'wechat_count': u'1', u'shop_name': u'\u91cd\u5e86\u5357\u576a\u6c5f\u5357\u5546\u90fdST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6398', u'upload_count': u'3', u'date': u'2017-07-31', u'shop_code': u'G614ST', u'scandata': u'1', u'region': u'\u897f\u5357'}], u'page': 1})

    def test_search_shop_name(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=北京六里桥银座BST&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': 0, u'running_total_day': 0, u'scan_count': 0, u'rate': u'0%', u'wechat_count': 0, u'upload_count': 0, u'scandata': 0}, u'paging': {u'page_count': 0, u'total_count': u'0', u'record_end': u'0', u'record_start': 0}, u'list': [], u'page': 1})

    def test_search_shop_code(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=&shop_code=NKNN47&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': 0, u'running_total_day': 0, u'scan_count': 0, u'rate': u'0%', u'wechat_count': 0, u'upload_count': 0, u'scandata': 0}, u'paging': {u'page_count': 0, u'total_count': u'0', u'record_end': u'0', u'record_start': 0}, u'list': [], u'page': 1})

    def test_search_shop_type(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=&shop_code=&shop_type=商场超市&from_date=2017-07-01&to_date=2017-07-01&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'242', u'running_total_day': u'8', u'scan_count': u'287', u'rate': u'86%', u'wechat_count': u'243', u'upload_count': u'308', u'scandata': u'208'}, u'paging': {u'page_count': 1, u'total_count': u'8', u'record_end': u'8', u'record_start': 1}, u'list': [{u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6c55\u5934\u5e02', u'reportdata': u'13', u'rate': u'92', u'shop_address': u'\u5e7f\u4e1c\u7701\u6c55\u5934\u5e02\u9f99\u6e56\u533a\u957f\u5e73\u8def\u4e30\u6cfd\u5e84\u535c\u8702\u83b2\u82b1\u8d85\u5e02\u9996\u5c42', u'scanner_id': u'BL170561', u'scan_count': u'16', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'13', u'shop_name': u'\u6c55\u5934\u957f\u5e73\u8def\u535c\u8702\u83b2\u82b1\u8d2d\u7269\u5546\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'10184', u'upload_count': u'15', u'date': u'2017-07-01', u'shop_code': u'K807BL', u'scandata': u'12', u'region': u'\u534e\u5357'}, {u'province': u'\u6c5f\u82cf\u7701', u'city': u'\u5357\u4eac\u5e02', u'reportdata': u'24', u'rate': u'83', u'shop_address': u'\u6c5f\u82cf\u7701\u5357\u4eac\u5e02\u6c5f\u5b81\u533a\u91d1\u7b94\u8def999\u53f71\u697c', u'scanner_id': u'BL170479', u'scan_count': u'30', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'24', u'shop_name': u'\u5357\u4eac\u534e\u6da6\u82cf\u679cBL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'8491', u'upload_count': u'30', u'date': u'2017-07-01', u'shop_code': u'IK29BL', u'scandata': u'20', u'region': u'\u534e\u4e1c'}, {u'province': u'\u9655\u897f\u7701', u'city': u'\u897f\u5b89\u5e02', u'reportdata': u'31', u'rate': u'84', u'shop_address': u'\u9655\u897f\u7701\u897f\u5b89\u5e02\u672a\u592e\u533a\u672a\u592e\u8def126\u53f7\u4eba\u4eba\u4e50\u8d5b\u9ad8\u5e97\u4e00\u5c42Belle\u4e13\u67dc', u'scanner_id': u'BL170370', u'scan_count': u'38', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'31', u'shop_name': u'\u897f\u5b89\u672a\u592e\u8def\u4eba\u4eba\u4e50BL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'4683', u'upload_count': u'38', u'date': u'2017-07-01', u'shop_code': u'FA24BL', u'scandata': u'26', u'region': u'\u897f\u5317'}, {u'province': u'\u5c71\u897f\u7701', u'city': u'\u8fd0\u57ce\u5e02', u'reportdata': u'53', u'rate': u'85', u'shop_address': u'\u5c71\u897f\u7701\u8fd0\u57ce\u5e02\u76d0\u6e56\u533a\u8fd0\u57ce\u5e02\u76d0\u6e56\u533a\u6cb3\u4e1c\u4e1c\u8857\u6c83\u5c14\u739b\u8d2d\u8d2d\u7269\u5e7f\u573a\u4e00\u5c42', u'scanner_id': u'BL170312', u'scan_count': u'61', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'54', u'shop_name': u'\u8fd0\u57ce\u6c83\u5c14\u739bBL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'2977', u'upload_count': u'75', u'date': u'2017-07-01', u'shop_code': u'DY32BL', u'scandata': u'45', u'region': u'\u534e\u5317'}, {u'province': u'\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a', u'city': u'\u6842\u6797\u5e02', u'reportdata': u'51', u'rate': u'82', u'shop_address': u'\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a\u6842\u6797\u5e02\u4e03\u661f\u533a\u6f13\u6c5f\u8def26\u53f7\u56fd\u5c55\u4e2d\u5fc3\u5357\u57ce\u767e\u8d27\u4e00\u5c42\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL160243', u'scan_count': u'59', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'50', u'shop_name': u'\u6842\u6797\u6f13\u6c5f\u8def\u5357\u57ce\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'10785', u'upload_count': u'66', u'date': u'2017-07-01', u'shop_code': u'K646BL', u'scandata': u'42', u'region': u'\u534e\u5357'}, {u'province': u'\u8d35\u5dde\u7701', u'city': u'\u8d35\u9633\u5e02', u'reportdata': u'5', u'rate': u'100', u'shop_address': u'\u8d35\u5dde\u7701\u8d35\u9633\u5e02\u4e91\u5ca9\u533a\u5bcc\u6c34\u5317\u8def\u5317\u4eac\u534e\u8054\u683c\u5170\u7279\u5546\u573a1\u697c', u'scanner_id': u'BL160144', u'scan_count': u'7', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'5', u'shop_name': u'\u8d35\u9633\u683c\u5170\u7279BL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'12529', u'upload_count': u'6', u'date': u'2017-07-01', u'shop_code': u'MG18BL', u'scandata': u'5', u'region': u'\u534e\u5357'}, {u'province': u'\u6d59\u6c5f\u7701', u'city': u'\u676d\u5dde\u5e02', u'reportdata': u'18', u'rate': u'78', u'shop_address': u'\u6d59\u6c5f\u7701\u676d\u5dde\u5e02\u897f\u6e56\u533a\u6587\u4e8c\u897f\u8def2\u53f71\u697c', u'scanner_id': u'BL160094', u'scan_count': u'26', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'18', u'shop_name': u'\u676d\u5dde\u534e\u5546\u4e16\u7eaa\u8054\u534eBL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'9262', u'upload_count': u'26', u'date': u'2017-07-01', u'shop_code': u'IG33BL', u'scandata': u'14', u'region': u'\u534e\u4e1c'}, {u'province': u'\u5c71\u897f\u7701', u'city': u'\u592a\u539f\u5e02', u'reportdata': u'47', u'rate': u'94', u'shop_address': u'\u5c71\u897f\u7701\u592a\u539f\u5e02\u5c0f\u5e97\u533a\u5c71\u897f\u7701\u592a\u539f\u5e02\u5c0f\u5e97\u533a\u5eb7\u5b81\u88571\u53f7', u'scanner_id': u'BL160087', u'scan_count': u'50', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'48', u'shop_name': u'\u592a\u539f\u7f8e\u90fd\u6c47\u8d2d\u7269\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'2807', u'upload_count': u'52', u'date': u'2017-07-01', u'shop_code': u'DY23BL', u'scandata': u'44', u'region': u'\u534e\u5317'}], u'page': 1})

    def test_search_brand(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=BL&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'7582', u'running_total_day': u'187', u'scan_count': u'9391', u'rate': u'85%', u'wechat_count': u'7602', u'upload_count': u'9508', u'scandata': u'6465'}, u'paging': {u'page_count': 10, u'total_count': u'193', u'record_end': 20, u'record_start': 1}, u'list': [{u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u73e0\u6d77\u5e02', u'reportdata': u'16', u'rate': u'88', u'shop_address': u'\u5e7f\u4e1c\u7701\u73e0\u6d77\u5e02\u91d1\u6e7e\u533a\u5409\u5927\u666f\u5c71\u8def228\u53f7\u56fd\u8d38\u6d77\u5929\u57ce\u4e00\u5c42C\u53f7\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170595', u'scan_count': u'25', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'16', u'shop_name': u'\u73e0\u6d77\u666f\u5c71\u8def\u56fd\u8d38\u6d77\u5929\u57ceBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'9816', u'upload_count': u'28', u'date': u'2017-07-01', u'shop_code': u'K723BL', u'scandata': u'14', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u4f5b\u5c71\u5e02', u'reportdata': u'51', u'rate': u'94', u'shop_address': u'\u5e7f\u4e1c\u7701\u4f5b\u5c71\u5e02\u5357\u6d77\u533a\u7f57\u6751\u5e9c\u524d\u8def\u91d1\u76db\u5e7f\u573a\u9996\u5c42126\u3001127\u53f7\u94fa\u767e\u4e3d\u4e13\u5356\u5e97', u'scanner_id': u'BL170582', u'scan_count': u'54', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'51', u'shop_name': u'\u5357\u6d77\u7f57\u6751\u5927\u6da6\u53d1\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u8857\u94fa', u'shop_id': u'11770', u'upload_count': u'54', u'date': u'2017-07-01', u'shop_code': u'L433BL', u'scandata': u'48', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u5e7f\u5dde\u5e02', u'reportdata': u'66', u'rate': u'82', u'shop_address': u'\u5e7f\u4e1c\u7701\u5e7f\u5dde\u5e02\u8d8a\u79c0\u533a\u5317\u4eac\u8def248\u53f7', u'scanner_id': u'BL170568', u'scan_count': u'79', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'66', u'shop_name': u'\u5e7f\u5dde\u5317\u4eac\u8defBL', u'running_total_day': u'1', u'shop_type': u'\u8857\u94fa', u'shop_id': u'12023', u'upload_count': u'79', u'date': u'2017-07-01', u'shop_code': u'L301BL', u'scandata': u'54', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u4e1c\u839e\u5e02', u'reportdata': u'101', u'rate': u'95', u'shop_address': u'\u5e7f\u4e1c\u7701\u4e1c\u839e\u5e02\u4e1c\u839e\u5e02\u6559\u80b2\u5317\u8def\u88578\u53f7\u5929\u548c\u767e\u8d27\u4e8c\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170565', u'scan_count': u'113', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'103', u'shop_name': u'\u4e1c\u839e\u5927\u5cad\u5c71\u5929\u548c\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'9878', u'upload_count': u'113', u'date': u'2017-07-01', u'shop_code': u'K665BL', u'scandata': u'96', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6df1\u5733\u5e02', u'reportdata': u'56', u'rate': u'79', u'shop_address': u'\u5e7f\u4e1c\u7701\u6df1\u5733\u5e02\u7f57\u6e56\u533a\u548c\u5e73\u8def\u53e3\u548c\u5e73\u8302\u4e1a\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170564', u'scan_count': u'72', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'56', u'shop_name': u'\u6df1\u5733\u548c\u5e73\u8def\u8302\u4e1a\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'10228', u'upload_count': u'72', u'date': u'2017-07-01', u'shop_code': u'K302BL', u'scandata': u'44', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6c55\u5934\u5e02', u'reportdata': u'13', u'rate': u'92', u'shop_address': u'\u5e7f\u4e1c\u7701\u6c55\u5934\u5e02\u9f99\u6e56\u533a\u957f\u5e73\u8def\u4e30\u6cfd\u5e84\u535c\u8702\u83b2\u82b1\u8d85\u5e02\u9996\u5c42', u'scanner_id': u'BL170561', u'scan_count': u'16', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'13', u'shop_name': u'\u6c55\u5934\u957f\u5e73\u8def\u535c\u8702\u83b2\u82b1\u8d2d\u7269\u5546\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'10184', u'upload_count': u'15', u'date': u'2017-07-01', u'shop_code': u'K807BL', u'scandata': u'12', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a', u'city': u'\u67f3\u5dde\u5e02', u'reportdata': u'20', u'rate': u'90', u'shop_address': u'\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a\u67f3\u5dde\u5e02\u57ce\u4e2d\u533a\u4e1c\u73af\u5927\u9053256\u53f7\u4e07\u8fbe\u5e7f\u573a\u4e00\u5c42\u767e\u4e3d\u4e13\u5356\u5e97', u'scanner_id': u'BL170557', u'scan_count': u'33', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'20', u'shop_name': u'\u67f3\u5dde\u4e1c\u73af\u5927\u9053\u4e07\u8fbe\u5e7f\u573a\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'10873', u'upload_count': u'33', u'date': u'2017-07-01', u'shop_code': u'KN25BL', u'scandata': u'18', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u5e7f\u5dde\u5e02', u'reportdata': u'15', u'rate': u'87', u'shop_address': u'\u5e7f\u4e1c\u7701\u5e7f\u5dde\u5e02\u8354\u6e7e\u533a\u5b9d\u534e\u8def133\u53f7\u6052\u5b9d\u5e7f\u573a\u9996\u5c42113\u94fa', u'scanner_id': u'BL170555', u'scan_count': u'20', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'15', u'shop_name': u'\u5e7f\u5dde\u6052\u5b9d\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'12016', u'upload_count': u'20', u'date': u'2017-07-01', u'shop_code': u'L427BL', u'scandata': u'13', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6df1\u5733\u5e02', u'reportdata': u'93', u'rate': u'76', u'shop_address': u'\u5e7f\u4e1c\u7701\u6df1\u5733\u5e02\u9f99\u534e\u65b0\u533a\u9f99\u534e\u8857\u9053\u4eba\u6c11\u5317\u8def291\u53f7\u767e\u4f73\u534e\u5546\u573aD1-d26\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170553', u'scan_count': u'98', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'93', u'shop_name': u'\u6df1\u5733\u9f99\u534e\u767e\u4f73\u534eBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'10596', u'upload_count': u'96', u'date': u'2017-07-01', u'shop_code': u'K718BL', u'scandata': u'71', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6c55\u5934\u5e02', u'reportdata': u'72', u'rate': u'93', u'shop_address': u'\u5e7f\u4e1c\u7701\u6c55\u5934\u5e02\u9f99\u6e56\u533a\u957f\u6c5f\u8def23\u53f7\u5408\u80dc\u5546\u573a', u'scanner_id': u'BL170552', u'scan_count': u'85', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'72', u'shop_name': u'\u6c55\u5934\u65b0\u4e00\u57ce\u5408\u80dc(\u5973)BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'10202', u'upload_count': u'85', u'date': u'2017-07-01', u'shop_code': u'KT10BL', u'scandata': u'67', u'region': u'\u534e\u5357'}, {u'province': u'\u798f\u5efa\u7701', u'city': u'\u6cc9\u5dde\u5e02', u'reportdata': u'36', u'rate': u'81', u'shop_address': u'\u798f\u5efa\u7701\u6cc9\u5dde\u5e02\u4e30\u6cfd\u533a\u5b9d\u6d32\u8857\u6d66\u897f\u4e07\u8fbe\u5e7f\u573a\u4e00\u5c42\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170551', u'scan_count': u'41', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'36', u'shop_name': u'\u6cc9\u5dde\u6d66\u897f\u4e07\u8fbe\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'11275', u'upload_count': u'41', u'date': u'2017-07-01', u'shop_code': u'K934BL', u'scandata': u'29', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u4e2d\u5c71\u5e02', u'reportdata': u'50', u'rate': u'94', u'shop_address': u'\u5e7f\u4e1c\u7701\u4e2d\u5c71\u5e02\u4e2d\u5c71\u5e02\u4e1c\u533a\u4e2d\u5c71\u4e09\u8def\u4e16\u7eaa\u5e7f\u573a8\u53f7\u76ca\u534e\u767e\u8d27\u4e00\u5c42\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170550', u'scan_count': u'60', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'51', u'shop_name': u'\u4e2d\u5c71\u4e2d\u5c71\u4e09\u8def\u76ca\u534e\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'9714', u'upload_count': u'60', u'date': u'2017-07-01', u'shop_code': u'K454BL', u'scandata': u'47', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u4f5b\u5c71\u5e02', u'reportdata': u'32', u'rate': u'91', u'shop_address': u'\u5e7f\u4e1c\u7701\u4f5b\u5c71\u5e02\u7985\u57ce\u533a\u5b63\u534e\u4e94\u8def33\u53f7\u987a\u8054\u56fd\u9645\u8d2d\u7269\u4e2d\u5fc3\u4e8c\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170546', u'scan_count': u'35', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'32', u'shop_name': u'\u4f5b\u5c71\u987a\u8054\u56fd\u9645BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'11808', u'upload_count': u'35', u'date': u'2017-07-01', u'shop_code': u'L379BL', u'scandata': u'29', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6df1\u5733\u5e02', u'reportdata': u'91', u'rate': u'93', u'shop_address': u'\u5e7f\u4e1c\u7701\u6df1\u5733\u5e02\u5357\u5c71\u533a\u540e\u6d77\u5546\u4e1a\u6587\u5316\u4e2d\u5fc3\u533a\u8302\u4e1a\u767e\u8d27\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170543', u'scan_count': u'102', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'91', u'shop_name': u'\u6df1\u5733\u5357\u5c71\u8302\u4e1aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'10677', u'upload_count': u'102', u'date': u'2017-07-01', u'shop_code': u'K773BL', u'scandata': u'85', u'region': u'\u534e\u5357'}, {u'province': u'\u6c5f\u897f\u7701', u'city': u'\u8d63\u5dde\u5e02', u'reportdata': u'76', u'rate': u'82', u'shop_address': u'\u6c5f\u897f\u7701\u8d63\u5dde\u5e02\u7ae0\u8d21\u533a\u7fe0\u5fae\u8def\u4e0e\u957f\u5f81\u5927\u9053\u4ea4\u6c47\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170542', u'scan_count': u'108', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'76', u'shop_name': u'\u8d63\u5dde\u7fe0\u5fae\u8def\u5929\u8679BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'11494', u'upload_count': u'108', u'date': u'2017-07-01', u'shop_code': u'K878BL', u'scandata': u'62', u'region': u'\u534e\u5357'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u60e0\u5dde\u5e02', u'reportdata': u'52', u'rate': u'94', u'shop_address': u'\u5e7f\u4e1c\u7701\u60e0\u5dde\u5e02\u60e0\u9633\u533a\u6de1\u6c34\u9547\u5d07\u96c5\u8def\u65b0\u4e00\u57ce\u8d2d\u7269\u5e7f\u573a\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170539', u'scan_count': u'62', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'53', u'shop_name': u'\u6de1\u6c34\u5d07\u96c5\u8def\u65b0\u4e00\u57ce\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'10128', u'upload_count': u'62', u'date': u'2017-07-01', u'shop_code': u'K852BL', u'scandata': u'49', u'region': u'\u534e\u5357'}, {u'province': u'\u798f\u5efa\u7701', u'city': u'\u6f33\u5dde\u5e02', u'reportdata': u'55', u'rate': u'87', u'shop_address': u'\u798f\u5efa\u7701\u6f33\u5dde\u5e02\u9f99\u6587\u533a\u9f99\u6587\u533a\u4e5d\u9f99\u5927\u9053\u4e07\u8fbe\u5e7f\u573a1\u5c42\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170533', u'scan_count': u'70', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'55', u'shop_name': u'\u6f33\u5dde\u4e5d\u9f99\u4e07\u8fbe\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'11451', u'upload_count': u'70', u'date': u'2017-07-01', u'shop_code': u'KX30BL', u'scandata': u'48', u'region': u'\u534e\u5357'}, {u'province': u'\u5b89\u5fbd\u7701', u'city': u'\u829c\u6e56\u5e02', u'reportdata': u'15', u'rate': u'93', u'shop_address': u'\u5b89\u5fbd\u7701\u829c\u6e56\u5e02\u955c\u6e56\u533a\u6b65\u884c\u8857\u534e\u4ebf\u8d2d\u7269\u4e2d\u5fc3\u5317\u697c1\u697c', u'scanner_id': u'BL170527', u'scan_count': u'17', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'15', u'shop_name': u'\u829c\u6e56\u534e\u4ebf\u5317\u697cBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'8309', u'upload_count': u'17', u'date': u'2017-07-01', u'shop_code': u'IQ04BL', u'scandata': u'14', u'region': u'\u534e\u4e1c'}, {u'province': u'\u4e91\u5357\u7701', u'city': u'\u6606\u660e\u5e02', u'reportdata': u'11', u'rate': u'82', u'shop_address': u'\u4e91\u5357\u7701\u6606\u660e\u5e02\u4e94\u534e\u533a\u6b63\u4e49\u8def52\u53f7', u'scanner_id': u'BL170523', u'scan_count': u'13', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'11', u'shop_name': u'\u6606\u660e\u6b63\u4e49\u574a\u5357\u9986\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'12254', u'upload_count': u'13', u'date': u'2017-07-01', u'shop_code': u'MKD4BL', u'scandata': u'9', u'region': u'\u534e\u5357'}, {u'province': u'\u5b89\u5fbd\u7701', u'city': u'\u9a6c\u978d\u5c71\u5e02', u'reportdata': u'4', u'rate': u'75', u'shop_address': u'\u5b89\u5fbd\u7701\u9a6c\u978d\u5c71\u5e02\u82b1\u5c71\u533a\u6e56\u4e1c\u5357\u8def\u56e2\u7ed3\u5e7f\u573a\u4e00\u697c', u'scanner_id': u'BL170521', u'scan_count': u'4', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'4', u'shop_name': u'\u9a6c\u978d\u5c71\u516b\u4f70\u4f34BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'8279', u'upload_count': u'4', u'date': u'2017-07-01', u'shop_code': u'IW63BL', u'scandata': u'3', u'region': u'\u534e\u4e1c'}], u'page': 1})

    def test_search_regionid(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=&regionid=100002&provinceid=0&cityid=0'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'1346', u'running_total_day': u'28', u'scan_count': u'1603', u'rate': u'79%', u'wechat_count': u'1349', u'upload_count': u'1572', u'scandata': u'1068'}, u'paging': {u'page_count': 2, u'total_count': u'28', u'record_end': 20, u'record_start': 1}, u'list': [{u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'44', u'rate': u'86', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u4e1c\u897f\u6e56\u533a\u5434\u5bb6\u5c71\u7530\u56ed\u5927\u9053\u72791\u53f7', u'scanner_id': u'BL170458', u'scan_count': u'55', u'brand': u'BS', u'shop_class': None, u'wechat_count': u'44', u'shop_name': u'\u6b66\u6c49\u5434\u5bb6\u5c71\u4e2d\u5fc3\u767e\u8d27BST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7118', u'upload_count': u'55', u'date': u'2017-07-01', u'shop_code': u'HA70BS', u'scandata': u'38', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u8944\u9633\u5e02', u'reportdata': u'99', u'rate': u'72', u'shop_address': u'\u6e56\u5317\u7701\u8944\u9633\u5e02\u6a0a\u57ce\u533a\u957f\u8679\u8def\u6c11\u53d1\u5546\u4e1a\u5e7f\u573a\u6b66\u5546\u8d2d\u7269\u4e2d\u5fc3\u4e00\u697c', u'scanner_id': u'BL170450', u'scan_count': u'112', u'brand': u'ST', u'shop_class': None, u'wechat_count': u'99', u'shop_name': u'\u8944\u6a0a\u6b66\u5546\u8d2d\u7269\u4e2d\u5fc3ST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7368', u'upload_count': u'91', u'date': u'2017-07-01', u'shop_code': u'H628ST', u'scandata': u'71', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'28', u'rate': u'46', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u6b66\u660c\u533a\u4e2d\u5357\u8def12\u53f7', u'scanner_id': u'BL170444', u'scan_count': u'42', u'brand': u'SD', u'shop_class': None, u'wechat_count': u'28', u'shop_name': u'\u6b66\u6c49\u94f6\u6cf0\u767e\u8d27\u4e16\u7eaa\u5e97SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7349', u'upload_count': u'42', u'date': u'2017-07-01', u'shop_code': u'HA83SD', u'scandata': u'13', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'111', u'rate': u'83', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u9ec4\u9642\u533a\u76d8\u9f99\u5927\u9053196\u53f7A\u533a2\u697c200\u53f7', u'scanner_id': u'BL170441', u'scan_count': u'121', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'111', u'shop_name': u'\u6b66\u6c49\u767e\u8054\u5965\u83b1\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u5965\u7279\u83b1\u65af', u'shop_id': u'7206', u'upload_count': u'121', u'date': u'2017-07-01', u'shop_code': u'HA03ZH', u'scandata': u'92', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u8861\u9633\u5e02', u'reportdata': u'28', u'rate': u'71', u'shop_address': u'\u6e56\u5357\u7701\u8861\u9633\u5e02\u96c1\u5cf0\u533a\u89e3\u653e\u8def121\u53f7(\u84b8\u6e58\u8def\u8def\u53e3)\u5927\u6d0b\u767e\u8d27\u4e00\u697c', u'scanner_id': u'BL170421', u'scan_count': u'34', u'brand': u'SD', u'shop_class': None, u'wechat_count': u'28', u'shop_name': u'\u8861\u9633\u5927\u6d0b\u767e\u8d27SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6735', u'upload_count': u'34', u'date': u'2017-07-01', u'shop_code': u'HB71SD', u'scandata': u'20', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u5b9c\u660c\u5e02', u'reportdata': u'91', u'rate': u'93', u'shop_address': u'\u6e56\u5317\u7701\u5b9c\u660c\u5e02\u897f\u9675\u533a\u5937\u9675\u5927\u905352-2\u53f7cbd\u6052\u57fa\u56fd\u9645', u'scanner_id': u'BL170414', u'scan_count': u'103', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'91', u'shop_name': u'\u5b9c\u660c\u5927\u6d0b\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7440', u'upload_count': u'103', u'date': u'2017-07-01', u'shop_code': u'HC09BL', u'scandata': u'85', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'22', u'rate': u'95', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u6c5f\u6c49\u533a\u89e3\u653e\u5927\u9053690\u53f7\u6b66\u6c49\u56fd\u9645\u5e7f\u573a\u5999\u4e3d', u'scanner_id': u'BL170386', u'scan_count': u'28', u'brand': u'ML', u'shop_class': None, u'wechat_count': u'22', u'shop_name': u'\u6b66\u6c49\u56fd\u9645\u5e7f\u573aMLS', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7281', u'upload_count': u'28', u'date': u'2017-07-01', u'shop_code': u'HAB1ML', u'scandata': u'21', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u5b9c\u660c\u5e02', u'reportdata': u'71', u'rate': u'89', u'shop_address': u'\u6e56\u5317\u7701\u5b9c\u660c\u5e02\u897f\u9675\u533a\u4e1c\u5c71\u5927\u9053106\u53f7\u56fd\u8d38\u5927\u53a6\u4e8c\u697c\u5929\u7f8e\u610f\u4e13\u67dc', u'scanner_id': u'BL170382', u'scan_count': u'71', u'brand': u'TM', u'shop_class': None, u'wechat_count': u'72', u'shop_name': u'\u5b9c\u660c\u56fd\u8d38TM', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7416', u'upload_count': u'71', u'date': u'2017-07-01', u'shop_code': u'HA15TM', u'scandata': u'63', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u6e58\u6f6d\u5e02', u'reportdata': u'72', u'rate': u'85', u'shop_address': u'\u6e56\u5357\u7701\u6e58\u6f6d\u5e02\u5cb3\u5858\u533a\u5efa\u8bbe\u8def\u53e3\u534e\u9686\u6b65\u6b65\u9ad8A\u680b\u4e00\u697cBL\u4e13\u67dc', u'scanner_id': u'BL170364', u'scan_count': u'94', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'72', u'shop_name': u'\u6e58\u6f6d\u534e\u9686\u6b65\u6b65\u9ad8BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6813', u'upload_count': u'93', u'date': u'2017-07-01', u'shop_code': u'HB13BL', u'scandata': u'61', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u90f4\u5dde\u5e02', u'reportdata': u'93', u'rate': u'92', u'shop_address': u'\u6e56\u5357\u7701\u90f4\u5dde\u5e02\u82cf\u4ed9\u533a\u516b\u4e00\u8def\u751f\u6e90\u65f6\u4ee3\u5e7f\u573a\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170359', u'scan_count': u'105', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'94', u'shop_name': u'\u90f4\u5dde\u751f\u6e90\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6720', u'upload_count': u'105', u'date': u'2017-07-01', u'shop_code': u'HD07BL', u'scandata': u'86', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u6000\u5316\u5e02', u'reportdata': u'25', u'rate': u'92', u'shop_address': u'\u6e56\u5357\u7701\u6000\u5316\u5e02\u9e64\u57ce\u533a\u8fce\u4e30\u897f\u8def207\u53f7\u743c\u5929\u5927\u53a6\u6b65\u6b65\u9ad8\u767e\u8d27\u4e00\u697c', u'scanner_id': u'BL170355', u'scan_count': u'36', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'25', u'shop_name': u'\u6000\u5316\u6b65\u6b65\u9ad8BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6773', u'upload_count': u'0', u'date': u'2017-07-01', u'shop_code': u'HB38BL', u'scandata': u'23', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'25', u'rate': u'64', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u4e07\u5bb6\u4e3d\u4e2d\u8def2\u6bb58\u53f7\u534e\u6668\u5546\u4e1a\u5e7f\u573a', u'scanner_id': u'BL170336', u'scan_count': u'31', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'25', u'shop_name': u'\u957f\u6c99\u5965\u83b1\u901a\u7a0b\u6298\u6263\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6661', u'upload_count': u'31', u'date': u'2017-07-01', u'shop_code': u'HB04ZH', u'scandata': u'16', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u8944\u9633\u5e02', u'reportdata': u'69', u'rate': u'77', u'shop_address': u'\u6e56\u5317\u7701\u8944\u9633\u5e02\u6a0a\u57ce\u533a\u957f\u5f81\u8def36\u53f7\u534e\u6d0b\u5802\u767e\u8d27', u'scanner_id': u'BL170323', u'scan_count': u'75', u'brand': u'ST', u'shop_class': None, u'wechat_count': u'69', u'shop_name': u'\u8944\u6a0a\u534e\u6d0b\u5802ST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7366', u'upload_count': u'75', u'date': u'2017-07-01', u'shop_code': u'H614ST', u'scandata': u'53', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u682a\u6d32\u5e02', u'reportdata': u'24', u'rate': u'63', u'shop_address': u'\u6e56\u5357\u7701\u682a\u6d32\u5e02\u82a6\u6dde\u533a\u5efa\u8bbe\u4e2d\u8def1\u53f7\u682a\u6d32\u767e\u8d27\u5927\u697c1\u697cST\u4e13\u67dc', u'scanner_id': u'BL170307', u'scan_count': u'29', u'brand': u'ST', u'shop_class': None, u'wechat_count': u'24', u'shop_name': u'\u682a\u6d32\u767e\u8d27ST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6872', u'upload_count': u'40', u'date': u'2017-07-01', u'shop_code': u'H824ST', u'scandata': u'15', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'14', u'rate': u'71', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u4e94\u4e00\u5927\u9053153\u53f7\u65b0\u4e16\u754c\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160239', u'scan_count': u'20', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'14', u'shop_name': u'\u957f\u6c99\u65b0\u4e16\u754c\u65f6\u5c1a\u4e2d\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6600', u'upload_count': u'20', u'date': u'2017-07-01', u'shop_code': u'HB12ZH', u'scandata': u'10', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'32', u'rate': u'69', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def27\u53f7\u738b\u5e9c\u4e95\u767e\u8d27\u8d1f\u4e00\u697c', u'scanner_id': u'BL160186', u'scan_count': u'36', u'brand': u'SD', u'shop_class': None, u'wechat_count': u'32', u'shop_name': u'\u957f\u6c99\u738b\u5e9c\u4e95\u767e\u8d27\u5973SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6634', u'upload_count': u'36', u'date': u'2017-07-01', u'shop_code': u'HB09SD', u'scandata': u'22', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'59', u'rate': u'88', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u96e8\u82b1\u533a\u6e58\u5e9c\u4e2d\u8def18\u53f7\u5fb7\u601d\u52e4\u56db\u5b63\u6c472\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL160166', u'scan_count': u'70', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'59', u'shop_name': u'\u957f\u6c99\u5fb7\u601d\u52e4\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'6660', u'upload_count': u'70', u'date': u'2017-07-01', u'shop_code': u'HB02ZH', u'scandata': u'52', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'27', u'rate': u'78', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u6c49\u9633\u533a\u6c5f\u57ce\u5927\u9053388\u53f7A\u533a1\u697cA116\u5546\u94fa', u'scanner_id': u'BL160165', u'scan_count': u'37', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'27', u'shop_name': u'\u6b66\u6c49\u6c38\u65fa\u68a6\u4e50\u57ce\u7ecf\u5f00\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'7128', u'upload_count': u'37', u'date': u'2017-07-01', u'shop_code': u'HA08ZH', u'scandata': u'21', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'34', u'rate': u'88', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u6c49\u9633\u533a\u9f99\u9633\u5927\u9053\u5927\u6d0b\u767e\u8d271\u697c\u601d\u52a0\u56fe\u4e13\u67dc', u'scanner_id': u'BL160156', u'scan_count': u'37', u'brand': u'ST', u'shop_class': None, u'wechat_count': u'35', u'shop_name': u'\u6b66\u6c49\u9f99\u9633\u5927\u6d0bST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7123', u'upload_count': u'37', u'date': u'2017-07-01', u'shop_code': u'H635ST', u'scandata': u'30', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'47', u'rate': u'83', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u9752\u5c71\u533a\u548c\u5e73\u5927\u9053955\u53f7\u6b66\u5546\u4f17\u5706\u5e7f\u573a\u4e00\u697c\u5929\u7f8e\u610f\u4e13\u67dc      ', u'scanner_id': u'BL160148', u'scan_count': u'62', u'brand': u'TM', u'shop_class': None, u'wechat_count': u'47', u'shop_name': u'\u6b66\u6c49\u6b66\u5546\u4f17\u5706\u5e7f\u573aTM', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7099', u'upload_count': u'78', u'date': u'2017-07-01', u'shop_code': u'HA35TM', u'scandata': u'39', u'region': u'\u534e\u4e2d'}], u'page': 1})

    def test_search_provinceid(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=&regionid=100002&provinceid=430000&cityid=0'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'498', u'running_total_day': u'13', u'scan_count': u'613', u'rate': u'80%', u'wechat_count': u'499', u'upload_count': u'587', u'scandata': u'399'}, u'paging': {u'page_count': 1, u'total_count': u'13', u'record_end': u'13', u'record_start': 1}, u'list': [{u'province': u'\u6e56\u5357\u7701', u'city': u'\u8861\u9633\u5e02', u'reportdata': u'28', u'rate': u'71', u'shop_address': u'\u6e56\u5357\u7701\u8861\u9633\u5e02\u96c1\u5cf0\u533a\u89e3\u653e\u8def121\u53f7(\u84b8\u6e58\u8def\u8def\u53e3)\u5927\u6d0b\u767e\u8d27\u4e00\u697c', u'scanner_id': u'BL170421', u'scan_count': u'34', u'brand': u'SD', u'shop_class': None, u'wechat_count': u'28', u'shop_name': u'\u8861\u9633\u5927\u6d0b\u767e\u8d27SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6735', u'upload_count': u'34', u'date': u'2017-07-01', u'shop_code': u'HB71SD', u'scandata': u'20', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u6e58\u6f6d\u5e02', u'reportdata': u'72', u'rate': u'85', u'shop_address': u'\u6e56\u5357\u7701\u6e58\u6f6d\u5e02\u5cb3\u5858\u533a\u5efa\u8bbe\u8def\u53e3\u534e\u9686\u6b65\u6b65\u9ad8A\u680b\u4e00\u697cBL\u4e13\u67dc', u'scanner_id': u'BL170364', u'scan_count': u'94', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'72', u'shop_name': u'\u6e58\u6f6d\u534e\u9686\u6b65\u6b65\u9ad8BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6813', u'upload_count': u'93', u'date': u'2017-07-01', u'shop_code': u'HB13BL', u'scandata': u'61', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u90f4\u5dde\u5e02', u'reportdata': u'93', u'rate': u'92', u'shop_address': u'\u6e56\u5357\u7701\u90f4\u5dde\u5e02\u82cf\u4ed9\u533a\u516b\u4e00\u8def\u751f\u6e90\u65f6\u4ee3\u5e7f\u573a\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170359', u'scan_count': u'105', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'94', u'shop_name': u'\u90f4\u5dde\u751f\u6e90\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6720', u'upload_count': u'105', u'date': u'2017-07-01', u'shop_code': u'HD07BL', u'scandata': u'86', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u6000\u5316\u5e02', u'reportdata': u'25', u'rate': u'92', u'shop_address': u'\u6e56\u5357\u7701\u6000\u5316\u5e02\u9e64\u57ce\u533a\u8fce\u4e30\u897f\u8def207\u53f7\u743c\u5929\u5927\u53a6\u6b65\u6b65\u9ad8\u767e\u8d27\u4e00\u697c', u'scanner_id': u'BL170355', u'scan_count': u'36', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'25', u'shop_name': u'\u6000\u5316\u6b65\u6b65\u9ad8BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6773', u'upload_count': u'0', u'date': u'2017-07-01', u'shop_code': u'HB38BL', u'scandata': u'23', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'25', u'rate': u'64', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u4e07\u5bb6\u4e3d\u4e2d\u8def2\u6bb58\u53f7\u534e\u6668\u5546\u4e1a\u5e7f\u573a', u'scanner_id': u'BL170336', u'scan_count': u'31', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'25', u'shop_name': u'\u957f\u6c99\u5965\u83b1\u901a\u7a0b\u6298\u6263\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6661', u'upload_count': u'31', u'date': u'2017-07-01', u'shop_code': u'HB04ZH', u'scandata': u'16', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u682a\u6d32\u5e02', u'reportdata': u'24', u'rate': u'63', u'shop_address': u'\u6e56\u5357\u7701\u682a\u6d32\u5e02\u82a6\u6dde\u533a\u5efa\u8bbe\u4e2d\u8def1\u53f7\u682a\u6d32\u767e\u8d27\u5927\u697c1\u697cST\u4e13\u67dc', u'scanner_id': u'BL170307', u'scan_count': u'29', u'brand': u'ST', u'shop_class': None, u'wechat_count': u'24', u'shop_name': u'\u682a\u6d32\u767e\u8d27ST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6872', u'upload_count': u'40', u'date': u'2017-07-01', u'shop_code': u'H824ST', u'scandata': u'15', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'14', u'rate': u'71', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u4e94\u4e00\u5927\u9053153\u53f7\u65b0\u4e16\u754c\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160239', u'scan_count': u'20', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'14', u'shop_name': u'\u957f\u6c99\u65b0\u4e16\u754c\u65f6\u5c1a\u4e2d\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6600', u'upload_count': u'20', u'date': u'2017-07-01', u'shop_code': u'HB12ZH', u'scandata': u'10', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'32', u'rate': u'69', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def27\u53f7\u738b\u5e9c\u4e95\u767e\u8d27\u8d1f\u4e00\u697c', u'scanner_id': u'BL160186', u'scan_count': u'36', u'brand': u'SD', u'shop_class': None, u'wechat_count': u'32', u'shop_name': u'\u957f\u6c99\u738b\u5e9c\u4e95\u767e\u8d27\u5973SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6634', u'upload_count': u'36', u'date': u'2017-07-01', u'shop_code': u'HB09SD', u'scandata': u'22', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'59', u'rate': u'88', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u96e8\u82b1\u533a\u6e58\u5e9c\u4e2d\u8def18\u53f7\u5fb7\u601d\u52e4\u56db\u5b63\u6c472\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL160166', u'scan_count': u'70', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'59', u'shop_name': u'\u957f\u6c99\u5fb7\u601d\u52e4\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'6660', u'upload_count': u'70', u'date': u'2017-07-01', u'shop_code': u'HB02ZH', u'scandata': u'52', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'10', u'rate': u'60', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def69\u53f7\u6625\u5929\u767e\u8d273\u697c\u767e\u4e3d', u'scanner_id': u'BL160142', u'scan_count': u'12', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'10', u'shop_name': u'\u957f\u6c99\u6625\u5929\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6632', u'upload_count': u'12', u'date': u'2017-07-01', u'shop_code': u'HB08BL', u'scandata': u'6', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'39', u'rate': u'69', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u8299\u84c9\u5357\u8def\u4e09\u6bb527\u53f7', u'scanner_id': u'BL160138', u'scan_count': u'54', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'39', u'shop_name': u'\u957f\u6c99\u53cb\u963f\u5965\u7279\u83b1\u65af\u9ad8\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u5965\u7279\u83b1\u65af', u'shop_id': u'6642', u'upload_count': u'54', u'date': u'2017-07-01', u'shop_code': u'HB17ZH', u'scandata': u'27', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'43', u'rate': u'84', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5cb3\u9e93\u533a\u91d1\u661f\u4e2d\u8def428\u53f7\u6b65\u6b65\u9ad8\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160113', u'scan_count': u'54', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'43', u'shop_name': u'\u957f\u6c99\u6b65\u6b65\u9ad8\u5e7f\u573a\u91d1\u661f\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6692', u'upload_count': u'54', u'date': u'2017-07-01', u'shop_code': u'HB73BL', u'scandata': u'36', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'34', u'rate': u'74', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u8f66\u7ad9\u8def1\u53f7\u963f\u6ce2\u7f57\u5e7f\u573a\u4e00\u697c\u767e\u4e3d', u'scanner_id': u'BL160084', u'scan_count': u'38', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'34', u'shop_name': u'\u957f\u6c99\u963f\u6ce2\u7f57\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6593', u'upload_count': u'38', u'date': u'2017-07-01', u'shop_code': u'HB05BL', u'scandata': u'25', u'region': u'\u534e\u4e2d'}], u'page': 1})

    def test_search_cityid(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=&regionid=100002&provinceid=430000&cityid=430100'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'256', u'running_total_day': u'8', u'scan_count': u'315', u'rate': u'76%', u'wechat_count': u'256', u'upload_count': u'315', u'scandata': u'194'}, u'paging': {u'page_count': 1, u'total_count': u'8', u'record_end': u'8', u'record_start': 1}, u'list': [{u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'25', u'rate': u'64', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u4e07\u5bb6\u4e3d\u4e2d\u8def2\u6bb58\u53f7\u534e\u6668\u5546\u4e1a\u5e7f\u573a', u'scanner_id': u'BL170336', u'scan_count': u'31', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'25', u'shop_name': u'\u957f\u6c99\u5965\u83b1\u901a\u7a0b\u6298\u6263\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6661', u'upload_count': u'31', u'date': u'2017-07-01', u'shop_code': u'HB04ZH', u'scandata': u'16', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'14', u'rate': u'71', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u4e94\u4e00\u5927\u9053153\u53f7\u65b0\u4e16\u754c\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160239', u'scan_count': u'20', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'14', u'shop_name': u'\u957f\u6c99\u65b0\u4e16\u754c\u65f6\u5c1a\u4e2d\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6600', u'upload_count': u'20', u'date': u'2017-07-01', u'shop_code': u'HB12ZH', u'scandata': u'10', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'32', u'rate': u'69', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def27\u53f7\u738b\u5e9c\u4e95\u767e\u8d27\u8d1f\u4e00\u697c', u'scanner_id': u'BL160186', u'scan_count': u'36', u'brand': u'SD', u'shop_class': None, u'wechat_count': u'32', u'shop_name': u'\u957f\u6c99\u738b\u5e9c\u4e95\u767e\u8d27\u5973SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6634', u'upload_count': u'36', u'date': u'2017-07-01', u'shop_code': u'HB09SD', u'scandata': u'22', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'59', u'rate': u'88', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u96e8\u82b1\u533a\u6e58\u5e9c\u4e2d\u8def18\u53f7\u5fb7\u601d\u52e4\u56db\u5b63\u6c472\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL160166', u'scan_count': u'70', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'59', u'shop_name': u'\u957f\u6c99\u5fb7\u601d\u52e4\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'6660', u'upload_count': u'70', u'date': u'2017-07-01', u'shop_code': u'HB02ZH', u'scandata': u'52', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'10', u'rate': u'60', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def69\u53f7\u6625\u5929\u767e\u8d273\u697c\u767e\u4e3d', u'scanner_id': u'BL160142', u'scan_count': u'12', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'10', u'shop_name': u'\u957f\u6c99\u6625\u5929\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6632', u'upload_count': u'12', u'date': u'2017-07-01', u'shop_code': u'HB08BL', u'scandata': u'6', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'39', u'rate': u'69', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u8299\u84c9\u5357\u8def\u4e09\u6bb527\u53f7', u'scanner_id': u'BL160138', u'scan_count': u'54', u'brand': u'ZH', u'shop_class': None, u'wechat_count': u'39', u'shop_name': u'\u957f\u6c99\u53cb\u963f\u5965\u7279\u83b1\u65af\u9ad8\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u5965\u7279\u83b1\u65af', u'shop_id': u'6642', u'upload_count': u'54', u'date': u'2017-07-01', u'shop_code': u'HB17ZH', u'scandata': u'27', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'43', u'rate': u'84', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5cb3\u9e93\u533a\u91d1\u661f\u4e2d\u8def428\u53f7\u6b65\u6b65\u9ad8\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160113', u'scan_count': u'54', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'43', u'shop_name': u'\u957f\u6c99\u6b65\u6b65\u9ad8\u5e7f\u573a\u91d1\u661f\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6692', u'upload_count': u'54', u'date': u'2017-07-01', u'shop_code': u'HB73BL', u'scandata': u'36', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'34', u'rate': u'74', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u8f66\u7ad9\u8def1\u53f7\u963f\u6ce2\u7f57\u5e7f\u573a\u4e00\u697c\u767e\u4e3d', u'scanner_id': u'BL160084', u'scan_count': u'38', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'34', u'shop_name': u'\u957f\u6c99\u963f\u6ce2\u7f57\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6593', u'upload_count': u'38', u'date': u'2017-07-01', u'shop_code': u'HB05BL', u'scandata': u'25', u'region': u'\u534e\u4e2d'}], u'page': 1})

    def test_search_brand_cityid(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=BL&regionid=100002&provinceid=430000&cityid=430100'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'87', u'running_total_day': u'3', u'scan_count': u'104', u'rate': u'77%', u'wechat_count': u'87', u'upload_count': u'104', u'scandata': u'67'}, u'paging': {u'page_count': 1, u'total_count': u'3', u'record_end': u'3', u'record_start': 1}, u'list': [{u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'10', u'rate': u'60', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def69\u53f7\u6625\u5929\u767e\u8d273\u697c\u767e\u4e3d', u'scanner_id': u'BL160142', u'scan_count': u'12', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'10', u'shop_name': u'\u957f\u6c99\u6625\u5929\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6632', u'upload_count': u'12', u'date': u'2017-07-01', u'shop_code': u'HB08BL', u'scandata': u'6', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'43', u'rate': u'84', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5cb3\u9e93\u533a\u91d1\u661f\u4e2d\u8def428\u53f7\u6b65\u6b65\u9ad8\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160113', u'scan_count': u'54', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'43', u'shop_name': u'\u957f\u6c99\u6b65\u6b65\u9ad8\u5e7f\u573a\u91d1\u661f\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6692', u'upload_count': u'54', u'date': u'2017-07-01', u'shop_code': u'HB73BL', u'scandata': u'36', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'34', u'rate': u'74', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u8f66\u7ad9\u8def1\u53f7\u963f\u6ce2\u7f57\u5e7f\u573a\u4e00\u697c\u767e\u4e3d', u'scanner_id': u'BL160084', u'scan_count': u'38', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'34', u'shop_name': u'\u957f\u6c99\u963f\u6ce2\u7f57\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6593', u'upload_count': u'38', u'date': u'2017-07-01', u'shop_code': u'HB05BL', u'scandata': u'25', u'region': u'\u534e\u4e2d'}], u'page': 1})

    def test_search_brand_cityid_type(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=&shop_code=&shop_type=百货商场&from_date=2017-07-01&to_date=2017-07-01&brand=BL&regionid=100002&provinceid=430000&cityid=430100'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'87', u'running_total_day': u'3', u'scan_count': u'104', u'rate': u'77%', u'wechat_count': u'87', u'upload_count': u'104', u'scandata': u'67'}, u'paging': {u'page_count': 1, u'total_count': u'3', u'record_end': u'3', u'record_start': 1}, u'list': [{u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'10', u'rate': u'60', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def69\u53f7\u6625\u5929\u767e\u8d273\u697c\u767e\u4e3d', u'scanner_id': u'BL160142', u'scan_count': u'12', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'10', u'shop_name': u'\u957f\u6c99\u6625\u5929\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6632', u'upload_count': u'12', u'date': u'2017-07-01', u'shop_code': u'HB08BL', u'scandata': u'6', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'43', u'rate': u'84', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5cb3\u9e93\u533a\u91d1\u661f\u4e2d\u8def428\u53f7\u6b65\u6b65\u9ad8\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160113', u'scan_count': u'54', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'43', u'shop_name': u'\u957f\u6c99\u6b65\u6b65\u9ad8\u5e7f\u573a\u91d1\u661f\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6692', u'upload_count': u'54', u'date': u'2017-07-01', u'shop_code': u'HB73BL', u'scandata': u'36', u'region': u'\u534e\u4e2d'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'34', u'rate': u'74', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u8f66\u7ad9\u8def1\u53f7\u963f\u6ce2\u7f57\u5e7f\u573a\u4e00\u697c\u767e\u4e3d', u'scanner_id': u'BL160084', u'scan_count': u'38', u'brand': u'BL', u'shop_class': None, u'wechat_count': u'34', u'shop_name': u'\u957f\u6c99\u963f\u6ce2\u7f57\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6593', u'upload_count': u'38', u'date': u'2017-07-01', u'shop_code': u'HB05BL', u'scandata': u'25', u'region': u'\u534e\u4e2d'}], u'page': 1})

    def test_not_login(self):
        url = self.base_url + '/mobile/count/scanner-detail?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=&to_date=&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 90000)
        self.assertEqual(self.result['errmsg'],u'\u767b\u5f55\u5931\u6548/\u8d85\u65f6')

if __name__ == '__main__':
    unittest.main()
