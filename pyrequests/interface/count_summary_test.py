#coding=utf-8
import unittest
import requests
import os, sys
import hashlib
parentdir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
sys.path.insert(0, parentdir)

class CountSummaryTest(unittest.TestCase):

    def setUp(self):
        self.base_url = 'http://bossdev.epoque.cn'
        self.maxDiff = None
        md5 = hashlib.md5()
        sign_str = '000000'
        sign_bytes_utf8 = sign_str.encode(encoding='utf-8')
        md5.update(sign_bytes_utf8)
        password = md5.hexdigest()
        self.session = requests.Session()
        payload = {'username': 'admin', 'password': password}
        url = self.base_url + '/auth/entry'
        self.login_success = self.session.post(url, data=payload)
        self.cookie = self.login_success.cookies

    def tearDown(self):
        print self.result

    def test_search_scanner_id(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=BL170961&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-31&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'1', u'running_total_day': u'1', u'scan_count': u'3', u'rate': u'100%', u'wechat_count': u'1', u'upload_count': u'3', u'scandata': u'1'},
                                              u'paging': {u'page_count': 1, u'total_count': u'1', u'record_end': u'1', u'record_start': 1},
                                              u'list': [{u'province': u'\u91cd\u5e86\u5e02', u'city': u'\u91cd\u5e86\u5e02', u'reportdata': u'1', u'concatime': u'2017-07-31 ~ 2018-07-31', u'shop_address': u'\u91cd\u5e86\u5e02\u5e02\u8f96\u533a\u5357\u5cb8\u533a\u60e0\u5de5\u8def192\u53f7\u65b0\u4e16\u7eaa\u4e8c\u697c', u'scanner_id': u'BL170961', u'scan_count': u'3', u'brand': u'ST', u'wechat_count': u'1', u'shop_name': u'\u91cd\u5e86\u5357\u576a\u6c5f\u5357\u5546\u90fdST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6398', u'upload_count': u'3', u'shop_code': u'G614ST', u'scandata': u'1', u'region': u'\u897f\u5357', u'rate': u'100'}],
                                              u'page': 1})

    def test_search_shop_name(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=北京六里桥银座BST&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-31&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'29', u'running_total_day': u'5', u'scan_count': u'43', u'rate': u'86%', u'wechat_count': u'29', u'upload_count': u'43', u'scandata': u'25'},
                                              u'paging': {u'page_count': 1, u'total_count': u'1', u'record_end': u'1', u'record_start': 1},
                                              u'list': [{u'province': u'\u5317\u4eac\u5e02', u'city': u'\u5317\u4eac\u5e02', u'reportdata': u'29', u'concatime': u'2017-07-27 ~ 2018-07-27', u'shop_address': u'\u5317\u4eac\u5e02\u5e02\u8f96\u533a\u4e30\u53f0\u533a\u4e07\u4e30\u8def\u94f6\u5ea7\u548c\u8c10\u5e7f\u573a', u'scanner_id': u'BL170925', u'scan_count': u'43', u'brand': u'BS', u'wechat_count': u'29', u'shop_name': u'\u5317\u4eac\u516d\u91cc\u6865\u94f6\u5ea7BST', u'running_total_day': u'5', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'1655', u'upload_count': u'43', u'shop_code': u'DBB8BS', u'scandata': u'25', u'region': u'\u534e\u5317', u'rate': u'86'}],
                                              u'page': 1})

    def test_search_shop_code(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=&shop_code=NKNN47&shop_type=&from_date=2017-07-01&to_date=2017-07-31&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'158', u'running_total_day': u'13', u'scan_count': u'239', u'rate': u'74%', u'wechat_count': u'159', u'upload_count': u'239', u'scandata': u'117'},
                                              u'paging': {u'page_count': 1, u'total_count': u'1', u'record_end': u'1', u'record_start': 1},
                                              u'list': [{u'province': u'\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a', u'city': u'\u5357\u5b81\u5e02', u'reportdata': u'158', u'concatime': u'2017-07-17 ~ 2018-07-17', u'shop_address': u'\u5e7f\u897f\u7701\u5357\u5b81\u5e02\u4e1c\u845b\u8def118\u53f7\u9752\u79c0\u4e07\u8fbe\u5e7f\u573a\u8d2d\u7269\u4e2d\u5fc3\u767e\u8d272F-01', u'scanner_id': u'BL170837', u'scan_count': u'239', u'brand': u'NK', u'wechat_count': u'159', u'shop_name': u'\u5357\u5b81\u9752\u79c0\u4e07\u8fbe\u6ed4\u640f\u8fd0\u52a8\u57ceNK', u'running_total_day': u'13', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3\u8fd0\u52a8\u57ce', u'shop_id': u'36501', u'upload_count': u'239', u'shop_code': u'NKNN47', u'scandata': u'117', u'region': u'\u534e\u5357', u'rate': u'74'}],
                                              u'page': 1})

    def test_search_shop_type(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=&shop_code=&shop_type=商场超市&from_date=2017-07-01&to_date=2017-07-31&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'8784', u'running_total_day': u'403', u'scan_count': u'11507', u'rate': u'84%', u'wechat_count': u'8828', u'upload_count': u'11425', u'scandata': u'7368'},
                                              u'paging': {u'page_count': 1, u'total_count': u'20', u'record_end': 20, u'record_start': 1},
                                              u'list': [{u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u4f5b\u5c71\u5e02', u'reportdata': u'333', u'concatime': u'2017-07-14 ~ 2017-08-02', u'shop_address': u'\u5e7f\u4e1c\u7701\u4f5b\u5c71\u5e02\u987a\u5fb7\u533a\u5927\u826f\u9547\u5357\u56fd\u4e1c\u8def\u4e4b\u6c38\u65fa\u987a\u5fb7\u8d2d\u7269\u4e2d\u5fc3L-143\u601d\u52a0\u56fe\u4e13\u67dc', u'scanner_id': u'BL170870', u'scan_count': u'405', u'brand': u'ST', u'wechat_count': u'335', u'shop_name': u'\u987a\u5fb7\u5357\u56fd\u4e1c\u8def\u5409\u4e4b\u5c9bST', u'running_total_day': u'18', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'9676', u'upload_count': u'348', u'shop_code': u'K536ST', u'scandata': u'197', u'region': u'\u534e\u5357', u'rate': u'59'}, {u'province': u'\u9655\u897f\u7701', u'city': u'\u897f\u5b89\u5e02', u'reportdata': u'205', u'concatime': u'2017-07-08 ~ 2018-07-08', u'shop_address': u'\u9655\u897f\u7701\u897f\u5b89\u5e02\u7891\u6797\u533a\u53cb\u8c0a\u897f\u8def264\u53f7\u4eba\u4eba\u4e50\u53cb\u8c0a\u897f\u8def\u5e97\u4e00\u5c42Senda\u4e13\u67dc', u'scanner_id': u'BL170683', u'scan_count': u'312', u'brand': u'SD', u'wechat_count': u'205', u'shop_name': u'\u897f\u5b89\u53cb\u8c0a\u897f\u8def\u4eba\u4eba\u4e50SD', u'running_total_day': u'23', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'4570', u'upload_count': u'312', u'shop_code': u'FA07SD', u'scandata': u'165', u'region': u'\u897f\u5317', u'rate': u'80'}, {u'province': u'\u9655\u897f\u7701', u'city': u'\u897f\u5b89\u5e02', u'reportdata': u'233', u'concatime': u'2017-07-15 ~ 2018-07-15', u'shop_address': u'\u9655\u897f\u7701\u897f\u5b89\u5e02\u96c1\u5854\u533a\u4e08\u516b\u4e1c\u8def\u4e1c\u4eea\u8def\u5341\u5b57\u4e1c\u5357\u89d2\u4eba\u4eba\u4e50\u8d85\u4e00\u5c42Belle\u4e13\u67dc', u'scanner_id': u'BL170671', u'scan_count': u'327', u'brand': u'BL', u'wechat_count': u'234', u'shop_name': u'\u897f\u5b89\u4e08\u516b\u4e1c\u8def\u4e16\u5bb6\u661f\u57ce\u4eba\u4eba\u4e50BL', u'running_total_day': u'17', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'4789', u'upload_count': u'298', u'shop_code': u'FA26BL', u'scandata': u'131', u'region': u'\u897f\u5317', u'rate': u'56'}, {u'province': u'\u9655\u897f\u7701', u'city': u'\u897f\u5b89\u5e02', u'reportdata': u'177', u'concatime': u'2017-07-12 ~ 2018-07-12', u'shop_address': u'\u9655\u897f\u7701\u897f\u5b89\u5e02\u96c1\u5854\u533a\u5510\u5ef6\u8def3\u53f7\u535c\u8702\u83b2\u82b1\u8d85\u4e00\u5c42Belle\u4e13\u67dc', u'scanner_id': u'BL170654', u'scan_count': u'343', u'brand': u'BL', u'wechat_count': u'179', u'shop_name': u'\u897f\u5b89\u5510\u5ef6\u8def\u535c\u8702\u83b2\u82b1BL', u'running_total_day': u'20', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'4834', u'upload_count': u'343', u'shop_code': u'FA59BL', u'scandata': u'139', u'region': u'\u897f\u5317', u'rate': u'79'}, {u'province': u'\u9655\u897f\u7701', u'city': u'\u897f\u5b89\u5e02', u'reportdata': u'609', u'concatime': u'2017-07-06 ~ 2018-07-06', u'shop_address': u'\u9655\u897f\u7701\u897f\u5b89\u5e02\u960e\u826f\u533a\u4eba\u6c11\u8def35\u53f7', u'scanner_id': u'BL170653', u'scan_count': u'848', u'brand': u'NK', u'wechat_count': u'612', u'shop_name': u'\u897f\u5b89\u5e02\u95eb\u826f\u533a\u4eba\u6c11\u8def\u4eba\u4eba\u4e50NK', u'running_total_day': u'26', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'39314', u'upload_count': u'848', u'shop_code': u'NKXA37', u'scandata': u'524', u'region': u'\u897f\u5317', u'rate': u'86'}, {u'province': u'\u7518\u8083\u7701', u'city': u'\u5170\u5dde\u5e02', u'reportdata': u'124', u'concatime': u'2017-07-15 ~ 2017-08-13', u'shop_address': u'\u7518\u8083\u7701\u5170\u5dde\u5e02\u5b89\u5b81\u533a\u5b89\u5b81\u897f\u8def381\u53f7\u8d39\u5bb6\u8425\u4ec0\u5b57', u'scanner_id': u'BL170626', u'scan_count': u'164', u'brand': u'NK', u'wechat_count': u'125', u'shop_name': u'\u5170\u5dde\u5b89\u5b81\u897f\u8def\u5317\u4eac\u534e\u8054NK\u7279\u5356', u'running_total_day': u'16', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'43505', u'upload_count': u'166', u'shop_code': u'NKLZT1', u'scandata': u'89', u'region': u'\u897f\u5317', u'rate': u'72'}, {u'province': u'\u9655\u897f\u7701', u'city': u'\u897f\u5b89\u5e02', u'reportdata': u'312', u'concatime': u'2017-07-12 ~ 2018-07-12', u'shop_address': u'\u9655\u897f\u7701\u897f\u5b89\u5e02\u96c1\u5854\u533a\u5510\u5ef6\u8def3\u53f7\u535c\u8702\u83b2\u82b1\u8d85\u4e00\u5c42Tata\u4e13\u67dc', u'scanner_id': u'BL170592', u'scan_count': u'496', u'brand': u'TT', u'wechat_count': u'312', u'shop_name': u'\u897f\u5b89\u5510\u5ef6\u8def\u535c\u8702\u83b2\u82b1TT', u'running_total_day': u'20', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'4831', u'upload_count': u'489', u'shop_code': u'FA54TT', u'scandata': u'219', u'region': u'\u897f\u5317', u'rate': u'70'}, {u'province': u'\u6cb3\u5317\u7701', u'city': u'\u5eca\u574a\u5e02', u'reportdata': u'467', u'concatime': u'2017-07-09 ~ 2018-07-09', u'shop_address': u'\u6cb3\u5317\u7701\u5eca\u574a\u5e02\u5e7f\u9633\u533a\u65b0\u534e\u8def\u4e07\u8fbe\u5e7f\u573a\u4e07\u5343\u767e\u8d27', u'scanner_id': u'BL170573', u'scan_count': u'535', u'brand': u'BL', u'wechat_count': u'470', u'shop_name': u'\u5eca\u574a\u4e07\u8fbe\u767e\u8d27BL', u'running_total_day': u'22', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'2225', u'upload_count': u'535', u'shop_code': u'DN40BL', u'scandata': u'447', u'region': u'\u534e\u5317', u'rate': u'96'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6c55\u5934\u5e02', u'reportdata': u'214', u'concatime': u'2017-07-01 ~ 2017-07-10', u'shop_address': u'\u5e7f\u4e1c\u7701\u6c55\u5934\u5e02\u9f99\u6e56\u533a\u957f\u5e73\u8def\u4e30\u6cfd\u5e84\u535c\u8702\u83b2\u82b1\u8d85\u5e02\u9996\u5c42', u'scanner_id': u'BL170561', u'scan_count': u'294', u'brand': u'BL', u'wechat_count': u'216', u'shop_name': u'\u6c55\u5934\u957f\u5e73\u8def\u535c\u8702\u83b2\u82b1\u8d2d\u7269\u5546\u573aBL', u'running_total_day': u'9', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'10184', u'upload_count': u'294', u'shop_code': u'K807BL', u'scandata': u'198', u'region': u'\u534e\u5357', u'rate': u'93'}, {u'province': u'\u9655\u897f\u7701', u'city': u'\u897f\u5b89\u5e02', u'reportdata': u'106', u'concatime': u'2017-07-22 ~ 2017-08-21', u'shop_address': u'\u9655\u897f\u7701\u897f\u5b89\u5e02\u96c1\u5854\u533a\u5510\u5ef6\u8def3\u53f7\u535c\u8702\u83b2\u82b1\u8d85\u4e00\u5c42Basto\u4e13\u67dc', u'scanner_id': u'BL170560', u'scan_count': u'140', u'brand': u'BS', u'wechat_count': u'106', u'shop_name': u'\u897f\u5b89\u5510\u5ef6\u8def\u535c\u8702\u83b2\u82b1BST', u'running_total_day': u'9', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'4804', u'upload_count': u'137', u'shop_code': u'FA34BS', u'scandata': u'81', u'region': u'\u897f\u5317', u'rate': u'76'}, {u'province': u'\u6cb3\u5317\u7701', u'city': u'\u5510\u5c71\u5e02', u'reportdata': u'1010', u'concatime': u'2017-07-08 ~ 2018-07-08', u'shop_address': u'\u6cb3\u5317\u7701\u5510\u5c71\u5e02\u4e30\u6da6\u533a\u5510\u5c71\u5e02\u4e30\u6da6\u533a\u5510\u4e30\u8def\u4e0e\u66f9\u96ea\u82b9\u897f\u9053\u4ea4\u53c9\u53e3', u'scanner_id': u'BL170559', u'scan_count': u'1308', u'brand': u'BL', u'wechat_count': u'1023', u'shop_name': u'\u5510\u5c71\u5317\u65b9\u8d2d\u7269\u5e7f\u573aBL', u'running_total_day': u'24', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'2543', u'upload_count': u'1308', u'shop_code': u'DN49BL', u'scandata': u'858', u'region': u'\u534e\u5317', u'rate': u'85'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u4f5b\u5c71\u5e02', u'reportdata': u'160', u'concatime': u'2017-07-16 ~ 2018-07-19', u'shop_address': u'\u4e1c\u7701\u4f5b\u5c71\u5e02\u987a\u5fb7\u533a\u5927\u826f\u5357\u56fd\u8def30\u53f7\u6c38\u65fa\u987a\u5fb7\u8d2d\u7269\u4e2d\u5fc32\u697c\u5409\u4e4b\u5c9b\u8d85\u5e02\u5185NIKE\u4e13\u67dc', u'scanner_id': u'BL170512', u'scan_count': u'216', u'brand': u'NK', u'wechat_count': u'160', u'shop_name': u'\u987a\u5fb7\u5927\u826f\u5409\u4e4b\u5c9bNK', u'running_total_day': u'13', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'36513', u'upload_count': u'217', u'shop_code': u'NKSD13', u'scandata': u'151', u'region': u'\u534e\u5357', u'rate': u'94'}, {u'province': u'\u6c5f\u82cf\u7701', u'city': u'\u5357\u4eac\u5e02', u'reportdata': u'436', u'concatime': u'2017-06-20 ~ 2018-06-20', u'shop_address': u'\u6c5f\u82cf\u7701\u5357\u4eac\u5e02\u6c5f\u5b81\u533a\u91d1\u7b94\u8def999\u53f71\u697c', u'scanner_id': u'BL170479', u'scan_count': u'534', u'brand': u'BL', u'wechat_count': u'437', u'shop_name': u'\u5357\u4eac\u534e\u6da6\u82cf\u679cBL', u'running_total_day': u'31', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'8491', u'upload_count': u'534', u'shop_code': u'IK29BL', u'scandata': u'388', u'region': u'\u534e\u4e1c', u'rate': u'89'}, {u'province': u'\u9655\u897f\u7701', u'city': u'\u897f\u5b89\u5e02', u'reportdata': u'521', u'concatime': u'2017-06-15 ~ 2018-06-15', u'shop_address': u'\u9655\u897f\u7701\u897f\u5b89\u5e02\u672a\u592e\u533a\u672a\u592e\u8def126\u53f7\u4eba\u4eba\u4e50\u8d5b\u9ad8\u5e97\u4e00\u5c42Belle\u4e13\u67dc', u'scanner_id': u'BL170370', u'scan_count': u'612', u'brand': u'BL', u'wechat_count': u'523', u'shop_name': u'\u897f\u5b89\u672a\u592e\u8def\u4eba\u4eba\u4e50BL', u'running_total_day': u'31', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'4683', u'upload_count': u'612', u'shop_code': u'FA24BL', u'scandata': u'451', u'region': u'\u897f\u5317', u'rate': u'87'}, {u'province': u'\u6c5f\u82cf\u7701', u'city': u'\u5357\u4eac\u5e02', u'reportdata': u'1', u'concatime': u'2017-07-31 ~ 2018-07-31', u'shop_address': u'\u6c5f\u82cf\u7701\u5357\u4eac\u5e02\u9f13\u697c\u533a\u51e4\u51f0\u4e1c\u8857150\u53f7\u534e\u6da6\u82cf\u679c\u4e00\u697c', u'scanner_id': u'BL170335', u'scan_count': u'1', u'brand': u'BL', u'wechat_count': u'1', u'shop_name': u'\u5357\u4eac\u6e05\u51c9\u95e8\u534e\u6da6\u82cf\u679cBL', u'running_total_day': u'1', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'8456', u'upload_count': u'1', u'shop_code': u'IK40BL', u'scandata': u'1', u'region': u'\u534e\u4e1c', u'rate': u'100'}, {u'province': u'\u5c71\u897f\u7701', u'city': u'\u8fd0\u57ce\u5e02', u'reportdata': u'1332', u'concatime': u'2017-06-22 ~ 2018-06-22', u'shop_address': u'\u5c71\u897f\u7701\u8fd0\u57ce\u5e02\u76d0\u6e56\u533a\u8fd0\u57ce\u5e02\u76d0\u6e56\u533a\u6cb3\u4e1c\u4e1c\u8857\u6c83\u5c14\u739b\u8d2d\u8d2d\u7269\u5e7f\u573a\u4e00\u5c42', u'scanner_id': u'BL170312', u'scan_count': u'1642', u'brand': u'BL', u'wechat_count': u'1335', u'shop_name': u'\u8fd0\u57ce\u6c83\u5c14\u739bBL', u'running_total_day': u'31', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'2977', u'upload_count': u'1644', u'shop_code': u'DY32BL', u'scandata': u'1148', u'region': u'\u534e\u5317', u'rate': u'86'}, {u'province': u'\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a', u'city': u'\u6842\u6797\u5e02', u'reportdata': u'103', u'concatime': u'2017-05-29 ~ 2017-07-02', u'shop_address': u'\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a\u6842\u6797\u5e02\u4e03\u661f\u533a\u6f13\u6c5f\u8def26\u53f7\u56fd\u5c55\u4e2d\u5fc3\u5357\u57ce\u767e\u8d27\u4e00\u5c42\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL160243', u'scan_count': u'116', u'brand': u'BL', u'wechat_count': u'102', u'shop_name': u'\u6842\u6797\u6f13\u6c5f\u8def\u5357\u57ce\u767e\u8d27BL', u'running_total_day': u'2', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'10785', u'upload_count': u'123', u'shop_code': u'K646BL', u'scandata': u'84', u'region': u'\u534e\u5357', u'rate': u'82'}, {u'province': u'\u8d35\u5dde\u7701', u'city': u'\u8d35\u9633\u5e02', u'reportdata': u'645', u'concatime': u'2017-05-25 ~ 2018-05-25', u'shop_address': u'\u8d35\u5dde\u7701\u8d35\u9633\u5e02\u4e91\u5ca9\u533a\u5bcc\u6c34\u5317\u8def\u5317\u4eac\u534e\u8054\u683c\u5170\u7279\u5546\u573a1\u697c', u'scanner_id': u'BL160144', u'scan_count': u'1028', u'brand': u'BL', u'wechat_count': u'655', u'shop_name': u'\u8d35\u9633\u683c\u5170\u7279BL', u'running_total_day': u'29', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'12529', u'upload_count': u'1028', u'shop_code': u'MG18BL', u'scandata': u'416', u'region': u'\u534e\u5357', u'rate': u'64'}, {u'province': u'\u6d59\u6c5f\u7701', u'city': u'\u676d\u5dde\u5e02', u'reportdata': u'338', u'concatime': u'2017-05-19 ~ 2017-08-16', u'shop_address': u'\u6d59\u6c5f\u7701\u676d\u5dde\u5e02\u897f\u6e56\u533a\u6587\u4e8c\u897f\u8def2\u53f71\u697c', u'scanner_id': u'BL160094', u'scan_count': u'455', u'brand': u'BL', u'wechat_count': u'339', u'shop_name': u'\u676d\u5dde\u534e\u5546\u4e16\u7eaa\u8054\u534eBL', u'running_total_day': u'30', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'9262', u'upload_count': u'455', u'shop_code': u'IG33BL', u'scandata': u'309', u'region': u'\u534e\u4e1c', u'rate': u'91'}, {u'province': u'\u5c71\u897f\u7701', u'city': u'\u592a\u539f\u5e02', u'reportdata': u'1458', u'concatime': u'2017-05-20 ~ 2018-05-20', u'shop_address': u'\u5c71\u897f\u7701\u592a\u539f\u5e02\u5c0f\u5e97\u533a\u5c71\u897f\u7701\u592a\u539f\u5e02\u5c0f\u5e97\u533a\u5eb7\u5b81\u88571\u53f7', u'scanner_id': u'BL160087', u'scan_count': u'1731', u'brand': u'BL', u'wechat_count': u'1459', u'shop_name': u'\u592a\u539f\u7f8e\u90fd\u6c47\u8d2d\u7269\u5e7f\u573aBL', u'running_total_day': u'31', u'shop_type': u'\u5546\u573a\u8d85\u5e02', u'shop_id': u'2807', u'upload_count': u'1733', u'shop_code': u'DY23BL', u'scandata': u'1372', u'region': u'\u534e\u5317', u'rate': u'94'}],
                                              u'page': 1})

    def test_search_brand(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-31&brand=BL&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url,cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'243241', u'running_total_day': u'8086', u'scan_count': u'300682', u'rate': u'87%', u'wechat_count': u'244562', u'upload_count': u'299106', u'scandata': u'211008'},
                                              u'paging': {u'page_count': 18, u'total_count': u'349', u'record_end': 20, u'record_start': 1},
                                              u'list': [{u'province': u'\u91cd\u5e86\u5e02', u'city': u'\u91cd\u5e86\u5e02', u'reportdata': u'14', u'concatime': u'2017-07-31 ~ 2018-07-31', u'shop_address': u'\u91cd\u5e86\u5e02\u5e02\u8f96\u533a\u5357\u5cb8\u533a\u5357\u57ce\u5927\u90538\u53f7\u4e00\u697c', u'scanner_id': u'BL170998', u'scan_count': u'18', u'brand': u'BL', u'wechat_count': u'14', u'shop_name': u'\u91cd\u5e86\u5357\u576a\u4e07\u8fbe\u8d2d\u7269\u5e7f\u573a\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'6428', u'upload_count': u'18', u'shop_code': u'GO30BL', u'scandata': u'14', u'region': u'\u897f\u5357', u'rate': u'100'}, {u'province': u'\u5317\u4eac\u5e02', u'city': u'\u5317\u4eac\u5e02', u'reportdata': u'12', u'concatime': u'2017-07-28 ~ 2018-07-28', u'shop_address': u'\u5317\u4eac\u5e02\u5e02\u8f96\u533a\u671d\u9633\u533a\u592a\u9633\u5bab\u4e2d\u8def12\u53f7', u'scanner_id': u'BL170996', u'scan_count': u'12', u'brand': u'BL', u'wechat_count': u'13', u'shop_name': u'\u5317\u4eac\u592a\u9633\u5bab\u51ef\u5fb7\u5e97BL', u'running_total_day': u'4', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'1426', u'upload_count': u'12', u'shop_code': u'DBI3BL', u'scandata': u'11', u'region': u'\u534e\u5317', u'rate': u'92'}, {u'province': u'\u5317\u4eac\u5e02', u'city': u'\u5317\u4eac\u5e02', u'reportdata': u'10', u'concatime': u'2017-07-28 ~ 2018-08-28', u'shop_address': u'\u5317\u4eac\u5e02\u5e02\u8f96\u533a\u6d77\u6dc0\u533a\u6210\u5e9c\u8def28\u53f7', u'scanner_id': u'BL170992', u'scan_count': u'12', u'brand': u'BL', u'wechat_count': u'10', u'shop_name': u'\u5317\u4eac\u4e94\u9053\u53e3\u534e\u8054BL', u'running_total_day': u'3', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'1753', u'upload_count': u'12', u'shop_code': u'DB90BL', u'scandata': u'10', u'region': u'\u534e\u5317', u'rate': u'100'}, {u'province': u'\u9655\u897f\u7701', u'city': u'\u5b89\u5eb7\u5e02', u'reportdata': u'4', u'concatime': u'2017-07-31 ~ 2018-07-31', u'shop_address': u'\u9655\u897f\u7701\u5b89\u5eb7\u5e02\u6c49\u6ee8\u533a\u91d1\u5dde\u5357\u8def95\u53f7\u65f6\u4ee3\u8d2d\u7269\u5e7f\u573a\u4e00\u5c42Belle\u4e13\u67dc', u'scanner_id': u'BL170970', u'scan_count': u'4', u'brand': u'BL', u'wechat_count': u'4', u'shop_name': u'\u5b89\u5eb7\u5174\u5b89\u8def\u65f6\u4ee3\u8d2d\u7269BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'4444', u'upload_count': u'5', u'shop_code': u'FJ01BL', u'scandata': u'4', u'region': u'\u897f\u5317', u'rate': u'100'}, {u'province': u'\u91cd\u5e86\u5e02', u'city': u'\u91cd\u5e86\u5e02', u'reportdata': u'21', u'concatime': u'2017-07-28 ~ 2018-07-28', u'shop_address': u'\u91cd\u5e86\u5e02\u5e02\u8f96\u533a\u6c38\u5ddd\u533a\u4eba\u6c11\u5357\u8def66\u53f7\u5d07\u5c1a\u767e\u8d27\u4e00\u697c', u'scanner_id': u'BL170950', u'scan_count': u'30', u'brand': u'BL', u'wechat_count': u'24', u'shop_name': u'\u6c38\u5ddd\u5d07\u5c1a\u767e\u8d27BL', u'running_total_day': u'2', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6504', u'upload_count': u'30', u'shop_code': u'GI48BL', u'scandata': u'21', u'region': u'\u897f\u5357', u'rate': u'100'}, {u'province': u'\u91cd\u5e86\u5e02', u'city': u'\u91cd\u5e86\u5e02', u'reportdata': u'16', u'concatime': u'2017-07-28 ~ 2018-07-28', u'shop_address': u'\u91cd\u5e86\u5e02\u5e02\u8f96\u533a\u6c38\u5ddd\u533a\u6e1d\u897f\u5927\u9053\u4e2d\u6bb5918\u53f7\u4e2d\u592e\u5927\u885711\u53f7\u697c\u65b0\u4e16\u7eaa\u4e00\u697c', u'scanner_id': u'BL170927', u'scan_count': u'20', u'brand': u'BL', u'wechat_count': u'17', u'shop_name': u'\u6c38\u5ddd\u65b0\u4e16\u7eaaBL', u'running_total_day': u'2', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6503', u'upload_count': u'20', u'shop_code': u'GI47BL', u'scandata': u'15', u'region': u'\u897f\u5357', u'rate': u'94'}, {u'province': u'\u8fbd\u5b81\u7701', u'city': u'\u76d8\u9526\u5e02', u'reportdata': u'2', u'concatime': u'2017-07-30 ~ 2018-07-30', u'shop_address': u'\u8fbd\u5b81\u7701\u76d8\u9526\u5e02\u5174\u9686\u53f0\u533a\u5174\u9686\u53f0\u6b65\u884c\u8857\u5357\u65b0\u739b\u7279\u603b\u5e97\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170918', u'scan_count': u'4', u'brand': u'BL', u'wechat_count': u'3', u'shop_name': u'\u76d8\u9526\u65b0\u739b\u7279\u603b\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'801', u'upload_count': u'4', u'shop_code': u'CE19BL', u'scandata': u'2', u'region': u'\u4e1c\u5317', u'rate': u'100'}, {u'province': u'\u6cb3\u5317\u7701', u'city': u'\u77f3\u5bb6\u5e84\u5e02', u'reportdata': u'323', u'concatime': u'2017-07-26 ~ 2018-07-26', u'shop_address': u'\u6cb3\u5317\u7701\u77f3\u5bb6\u5e84\u5e02\u6865\u897f\u533a\u88d5\u534e\u897f\u8def15\u53f7', u'scanner_id': u'BL170916', u'scan_count': u'392', u'brand': u'BL', u'wechat_count': u'327', u'shop_name': u'\u77f3\u5bb6\u5e84\u4e07\u8c61\u5929\u6210BL', u'running_total_day': u'6', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'2374', u'upload_count': u'138', u'shop_code': u'DS13BL', u'scandata': u'275', u'region': u'\u534e\u5317', u'rate': u'85'}, {u'province': u'\u6cb3\u5317\u7701', u'city': u'\u4fdd\u5b9a\u5e02', u'reportdata': u'17', u'concatime': u'2017-07-31 ~ 2018-07-31', u'shop_address': u'\u6cb3\u5317\u7701\u4fdd\u5b9a\u5e02\u6dbf\u5dde\u5e02\u8303\u9633\u8def252\u53f7\u4e00\u5c42', u'scanner_id': u'BL170899', u'scan_count': u'20', u'brand': u'BL', u'wechat_count': u'17', u'shop_name': u'\u6dbf\u5dde\u60e0\u53cb\u94bb\u77f3\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'2025', u'upload_count': u'20', u'shop_code': u'DD16BL', u'scandata': u'16', u'region': u'\u534e\u5317', u'rate': u'94'}, {u'province': u'\u6cb3\u5317\u7701', u'city': u'\u77f3\u5bb6\u5e84\u5e02', u'reportdata': u'246', u'concatime': u'2017-07-26 ~ 2018-07-26', u'shop_address': u'\u6cb3\u5317\u7701\u77f3\u5bb6\u5e84\u5e02\u6865\u4e1c\u533a\u4e2d\u5c71\u4e1c\u8def11\u53f7\u4e50\u6c47\u57ce', u'scanner_id': u'BL170896', u'scan_count': u'275', u'brand': u'BL', u'wechat_count': u'246', u'shop_name': u'\u77f3\u5bb6\u5e84\u4e50\u6c47\u57ceBL', u'running_total_day': u'6', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'2433', u'upload_count': u'275', u'shop_code': u'DS36BL', u'scandata': u'229', u'region': u'\u534e\u5317', u'rate': u'93'}, {u'province': u'\u5409\u6797\u7701', u'city': u'\u5ef6\u8fb9\u671d\u9c9c\u65cf\u81ea\u6cbb\u5dde', u'reportdata': u'20', u'concatime': u'2017-07-20 ~ 2018-07-20', u'shop_address': u'\u5409\u6797\u7701\u5ef6\u8fb9\u671d\u9c9c\u65cf\u81ea\u6cbb\u5dde\u5ef6\u5409\u5e02\u5149\u660e\u8857608\u53f7\u767e\u8d27\u5927\u697cA\u5ea7\u56db\u697c\u978b\u5e3d\u5546\u573a\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170890', u'scan_count': u'24', u'brand': u'BL', u'wechat_count': u'22', u'shop_name': u'\u5ef6\u5409\u767e\u8d27\u5927\u697cBL', u'running_total_day': u'3', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'229', u'upload_count': u'24', u'shop_code': u'CQ12BL', u'scandata': u'20', u'region': u'\u4e1c\u5317', u'rate': u'100'}, {u'province': u'\u6cb3\u5317\u7701', u'city': u'\u6ca7\u5dde\u5e02', u'reportdata': u'272', u'concatime': u'2017-07-27 ~ 2018-07-27', u'shop_address': u'\u6cb3\u5317\u7701\u6ca7\u5dde\u5e02\u8fd0\u6cb3\u533a\u89e3\u653e\u8def\u9890\u548c\u5e7f\u573a\u540c\u5929\u8d2d\u7269\u4e2d\u5fc3', u'scanner_id': u'BL170888', u'scan_count': u'321', u'brand': u'BL', u'wechat_count': u'272', u'shop_name': u'\u6ca7\u5dde\u540c\u5929\u8d2d\u7269BL', u'running_total_day': u'5', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'2047', u'upload_count': u'321', u'shop_code': u'DS28BL', u'scandata': u'253', u'region': u'\u534e\u5317', u'rate': u'93'}, {u'province': u'\u8fbd\u5b81\u7701', u'city': u'\u629a\u987a\u5e02', u'reportdata': u'0', u'concatime': u'2017-07-30 ~ 2018-07-30', u'shop_address': u'\u8fbd\u5b81\u7701\u629a\u987a\u5e02\u65b0\u629a\u533a\u88d5\u6c11\u8def24\u53f7\u6d59\u5546\u65b0\u739b\u72792\u53f7\u9986\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170887', u'scan_count': u'3', u'brand': u'BL', u'wechat_count': u'0', u'shop_name': u'\u629a\u987a\u6d59\u5546\u65b0\u739b\u7279\u5973\u978bBL', u'running_total_day': u'0', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'700', u'upload_count': u'3', u'shop_code': u'CF10BL', u'scandata': u'0', u'region': u'\u4e1c\u5317', u'rate': 0}, {u'province': u'\u9ed1\u9f99\u6c5f\u7701', u'city': u'\u5927\u5e86\u5e02', u'reportdata': u'80', u'concatime': u'2017-07-28 ~ 2018-07-28', u'shop_address': u'\u5927\u5e86\u5e02\u8ba9\u80e1\u8def\u533a\u4e58\u98ce\u5927\u885755\u53f7', u'scanner_id': u'BL170885', u'scan_count': u'96', u'brand': u'BL', u'wechat_count': u'80', u'shop_name': u'\u5927\u5e86\u4e58\u98ce\u65b0\u739b\u7279BL', u'running_total_day': u'4', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'43513', u'upload_count': u'96', u'shop_code': u' CU63BL', u'scandata': u'76', u'region': u'\u4e1c\u5317', u'rate': u'95'}, {u'province': u'\u8fbd\u5b81\u7701', u'city': u'\u846b\u82a6\u5c9b\u5e02', u'reportdata': u'0', u'concatime': u'2017-07-30 ~ 2018-07-30', u'shop_address': u'\u8fbd\u5b81\u7701\u846b\u82a6\u5c9b\u5e02\u8fde\u5c71\u533a\u5174\u5de5\u5927\u88571\u53f7\u846b\u82a6\u5c9b\u767e\u8d27\u5927\u697c\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170876', u'scan_count': u'3', u'brand': u'BL', u'wechat_count': u'1', u'shop_name': u'\u846b\u82a6\u5c9b\u767e\u8d27\u5927\u697cBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'730', u'upload_count': u'3', u'shop_code': u'CE41BL', u'scandata': u'0', u'region': u'\u4e1c\u5317', u'rate': 0}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6df1\u5733\u5e02', u'reportdata': u'377', u'concatime': u'2017-07-15 ~ 2017-08-31', u'shop_address': u'\u5e7f\u4e1c\u7701\u6df1\u5733\u5e02\u798f\u7530\u533a\u516b\u5366\u4e8c\u8def526\u680b\u5929\u5929\u9970\u5c55\u4e2d\u5fc3\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170871', u'scan_count': u'485', u'brand': u'BL', u'wechat_count': u'381', u'shop_name': u'\u6df1\u5733\u516b\u5366\u4e8c\u8def\u5929\u5929\u9970\u5c55\u4e2d\u5fc3\u5e97BL', u'running_total_day': u'16', u'shop_type': u'\u8857\u94fa', u'shop_id': u'10475', u'upload_count': u'485', u'shop_code': u'KS19BL', u'scandata': u'312', u'region': u'\u534e\u5357', u'rate': u'83'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6df1\u5733\u5e02', u'reportdata': u'532', u'concatime': u'2017-07-13 ~ 2018-07-13', u'shop_address': u'\u5e7f\u4e1c\u7701\u6df1\u5733\u5e02\u7f57\u6e56\u533a\u4e1c\u95e8\u4e2d\u8def2047\u53f7\u8302\u4e1a\u767e\u8d27\u4e8c\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170861', u'scan_count': u'709', u'brand': u'BL', u'wechat_count': u'538', u'shop_name': u'\u6df1\u5733\u4e1c\u95e8\u4e2d\u8def\u8302\u4e1a\u767e\u8d27BL', u'running_total_day': u'19', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'10231', u'upload_count': u'709', u'shop_code': u'K305BL', u'scandata': u'468', u'region': u'\u534e\u5357', u'rate': u'88'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u4e1c\u839e\u5e02', u'reportdata': u'357', u'concatime': u'2017-07-19 ~ 2017-07-30', u'shop_address': u'\u5e7f\u4e1c\u7701\u4e1c\u839e\u5e02\u4e1c\u839e\u5e02\u4e1c\u57ce\u5927\u9053283\u53f7\u4e16\u535a\u5e7f\u573aA\u533a\u6d77\u96c5\u767e\u8d27\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170859', u'scan_count': u'516', u'brand': u'BL', u'wechat_count': u'361', u'shop_name': u'\u4e1c\u839e\u4e1c\u57ce\u5927\u9053\u6d77\u96c5\u767e\u8d27BL', u'running_total_day': u'10', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'9865', u'upload_count': u'516', u'shop_code': u'K507BL', u'scandata': u'288', u'region': u'\u534e\u5357', u'rate': u'81'}, {u'province': u'\u6c5f\u82cf\u7701', u'city': u'\u82cf\u5dde\u5e02', u'reportdata': u'94', u'concatime': u'2017-07-17 ~ 2018-07-17', u'shop_address': u'\u6c5f\u82cf\u7701\u82cf\u5dde\u5e02\u6606\u5c71\u5e02\u73e0\u6c5f\u4e2d\u8def199\u53f72F', u'scanner_id': u'BL170858', u'scan_count': u'195', u'brand': u'BL', u'wechat_count': u'94', u'shop_name': u'\u6606\u5c71\u91d1\u9e70BL', u'running_total_day': u'12', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'8807', u'upload_count': u'68', u'shop_code': u'IB37BL', u'scandata': u'61', u'region': u'\u534e\u4e1c', u'rate': u'65'}, {u'province': u'\u5e7f\u4e1c\u7701', u'city': u'\u6df1\u5733\u5e02', u'reportdata': u'222', u'concatime': u'2017-07-15 ~ 2018-07-15', u'shop_address': u'\u5e7f\u4e1c\u7701\u6df1\u5733\u5e02\u9f99\u5c97\u533a\u9f99\u7fd4\u5927\u9053\u4e5d\u5dde\u4e07\u79d1\u5e7f\u573a\u4e8c\u5c42\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170857', u'scan_count': u'339', u'brand': u'BL', u'wechat_count': u'224', u'shop_name': u'\u6df1\u5733\u9f99\u5c97\u4e07\u79d1\u5e7f\u573a\u5e97BL', u'running_total_day': u'15', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'10556', u'upload_count': u'339', u'shop_code': u'KS04BL', u'scandata': u'114', u'region': u'\u534e\u5357', u'rate': u'51'}],
                                              u'page': 1})

    def test_search_regionid(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=&regionid=100002&provinceid=0&cityid=0'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'1346', u'running_total_day': u'28', u'scan_count': u'1603', u'rate': u'79%', u'wechat_count': u'1349', u'upload_count': u'1572', u'scandata': u'1068'},
                                              u'paging': {u'page_count': 2, u'total_count': u'28', u'record_end': 20, u'record_start': 1},
                                              u'list': [{u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'44', u'concatime': u'2017-06-16 ~ 2018-06-16', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u4e1c\u897f\u6e56\u533a\u5434\u5bb6\u5c71\u7530\u56ed\u5927\u9053\u72791\u53f7', u'scanner_id': u'BL170458', u'scan_count': u'55', u'brand': u'BS', u'wechat_count': u'44', u'shop_name': u'\u6b66\u6c49\u5434\u5bb6\u5c71\u4e2d\u5fc3\u767e\u8d27BST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7118', u'upload_count': u'55', u'shop_code': u'HA70BS', u'scandata': u'38', u'region': u'\u534e\u4e2d', u'rate': u'86'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u8944\u9633\u5e02', u'reportdata': u'99', u'concatime': u'2017-06-16 ~ 2018-06-16', u'shop_address': u'\u6e56\u5317\u7701\u8944\u9633\u5e02\u6a0a\u57ce\u533a\u957f\u8679\u8def\u6c11\u53d1\u5546\u4e1a\u5e7f\u573a\u6b66\u5546\u8d2d\u7269\u4e2d\u5fc3\u4e00\u697c', u'scanner_id': u'BL170450', u'scan_count': u'112', u'brand': u'ST', u'wechat_count': u'99', u'shop_name': u'\u8944\u6a0a\u6b66\u5546\u8d2d\u7269\u4e2d\u5fc3ST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7368', u'upload_count': u'91', u'shop_code': u'H628ST', u'scandata': u'71', u'region': u'\u534e\u4e2d', u'rate': u'72'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'28', u'concatime': u'2017-06-16 ~ 2017-08-17', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u6b66\u660c\u533a\u4e2d\u5357\u8def12\u53f7', u'scanner_id': u'BL170444', u'scan_count': u'42', u'brand': u'SD', u'wechat_count': u'28', u'shop_name': u'\u6b66\u6c49\u94f6\u6cf0\u767e\u8d27\u4e16\u7eaa\u5e97SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7349', u'upload_count': u'42', u'shop_code': u'HA83SD', u'scandata': u'13', u'region': u'\u534e\u4e2d', u'rate': u'46'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'111', u'concatime': u'2017-06-16 ~ 2018-06-16', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u9ec4\u9642\u533a\u76d8\u9f99\u5927\u9053196\u53f7A\u533a2\u697c200\u53f7', u'scanner_id': u'BL170441', u'scan_count': u'121', u'brand': u'ZH', u'wechat_count': u'111', u'shop_name': u'\u6b66\u6c49\u767e\u8054\u5965\u83b1\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u5965\u7279\u83b1\u65af', u'shop_id': u'7206', u'upload_count': u'121', u'shop_code': u'HA03ZH', u'scandata': u'92', u'region': u'\u534e\u4e2d', u'rate': u'83'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u8861\u9633\u5e02', u'reportdata': u'28', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u8861\u9633\u5e02\u96c1\u5cf0\u533a\u89e3\u653e\u8def121\u53f7(\u84b8\u6e58\u8def\u8def\u53e3)\u5927\u6d0b\u767e\u8d27\u4e00\u697c', u'scanner_id': u'BL170421', u'scan_count': u'34', u'brand': u'SD', u'wechat_count': u'28', u'shop_name': u'\u8861\u9633\u5927\u6d0b\u767e\u8d27SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6735', u'upload_count': u'34', u'shop_code': u'HB71SD', u'scandata': u'20', u'region': u'\u534e\u4e2d', u'rate': u'71'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u5b9c\u660c\u5e02', u'reportdata': u'91', u'concatime': u'2017-06-18 ~ 2018-06-18', u'shop_address': u'\u6e56\u5317\u7701\u5b9c\u660c\u5e02\u897f\u9675\u533a\u5937\u9675\u5927\u905352-2\u53f7cbd\u6052\u57fa\u56fd\u9645', u'scanner_id': u'BL170414', u'scan_count': u'103', u'brand': u'BL', u'wechat_count': u'91', u'shop_name': u'\u5b9c\u660c\u5927\u6d0b\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7440', u'upload_count': u'103', u'shop_code': u'HC09BL', u'scandata': u'85', u'region': u'\u534e\u4e2d', u'rate': u'93'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'22', u'concatime': u'2017-06-16 ~ 2018-06-16', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u6c5f\u6c49\u533a\u89e3\u653e\u5927\u9053690\u53f7\u6b66\u6c49\u56fd\u9645\u5e7f\u573a\u5999\u4e3d', u'scanner_id': u'BL170386', u'scan_count': u'28', u'brand': u'ML', u'wechat_count': u'22', u'shop_name': u'\u6b66\u6c49\u56fd\u9645\u5e7f\u573aMLS', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7281', u'upload_count': u'28', u'shop_code': u'HAB1ML', u'scandata': u'21', u'region': u'\u534e\u4e2d', u'rate': u'95'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u5b9c\u660c\u5e02', u'reportdata': u'71', u'concatime': u'2017-06-18 ~ 2018-06-18', u'shop_address': u'\u6e56\u5317\u7701\u5b9c\u660c\u5e02\u897f\u9675\u533a\u4e1c\u5c71\u5927\u9053106\u53f7\u56fd\u8d38\u5927\u53a6\u4e8c\u697c\u5929\u7f8e\u610f\u4e13\u67dc', u'scanner_id': u'BL170382', u'scan_count': u'71', u'brand': u'TM', u'wechat_count': u'72', u'shop_name': u'\u5b9c\u660c\u56fd\u8d38TM', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7416', u'upload_count': u'71', u'shop_code': u'HA15TM', u'scandata': u'63', u'region': u'\u534e\u4e2d', u'rate': u'89'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u6e58\u6f6d\u5e02', u'reportdata': u'72', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u6e58\u6f6d\u5e02\u5cb3\u5858\u533a\u5efa\u8bbe\u8def\u53e3\u534e\u9686\u6b65\u6b65\u9ad8A\u680b\u4e00\u697cBL\u4e13\u67dc', u'scanner_id': u'BL170364', u'scan_count': u'94', u'brand': u'BL', u'wechat_count': u'72', u'shop_name': u'\u6e58\u6f6d\u534e\u9686\u6b65\u6b65\u9ad8BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6813', u'upload_count': u'93', u'shop_code': u'HB13BL', u'scandata': u'61', u'region': u'\u534e\u4e2d', u'rate': u'85'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u90f4\u5dde\u5e02', u'reportdata': u'93', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u90f4\u5dde\u5e02\u82cf\u4ed9\u533a\u516b\u4e00\u8def\u751f\u6e90\u65f6\u4ee3\u5e7f\u573a\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170359', u'scan_count': u'105', u'brand': u'BL', u'wechat_count': u'94', u'shop_name': u'\u90f4\u5dde\u751f\u6e90\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6720', u'upload_count': u'105', u'shop_code': u'HD07BL', u'scandata': u'86', u'region': u'\u534e\u4e2d', u'rate': u'92'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u6000\u5316\u5e02', u'reportdata': u'25', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u6000\u5316\u5e02\u9e64\u57ce\u533a\u8fce\u4e30\u897f\u8def207\u53f7\u743c\u5929\u5927\u53a6\u6b65\u6b65\u9ad8\u767e\u8d27\u4e00\u697c', u'scanner_id': u'BL170355', u'scan_count': u'36', u'brand': u'BL', u'wechat_count': u'25', u'shop_name': u'\u6000\u5316\u6b65\u6b65\u9ad8BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6773', u'upload_count': u'0', u'shop_code': u'HB38BL', u'scandata': u'23', u'region': u'\u534e\u4e2d', u'rate': u'92'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'25', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u4e07\u5bb6\u4e3d\u4e2d\u8def2\u6bb58\u53f7\u534e\u6668\u5546\u4e1a\u5e7f\u573a', u'scanner_id': u'BL170336', u'scan_count': u'31', u'brand': u'ZH', u'wechat_count': u'25', u'shop_name': u'\u957f\u6c99\u5965\u83b1\u901a\u7a0b\u6298\u6263\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6661', u'upload_count': u'31', u'shop_code': u'HB04ZH', u'scandata': u'16', u'region': u'\u534e\u4e2d', u'rate': u'64'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u8944\u9633\u5e02', u'reportdata': u'69', u'concatime': u'2017-06-16 ~ 2018-06-16', u'shop_address': u'\u6e56\u5317\u7701\u8944\u9633\u5e02\u6a0a\u57ce\u533a\u957f\u5f81\u8def36\u53f7\u534e\u6d0b\u5802\u767e\u8d27', u'scanner_id': u'BL170323', u'scan_count': u'75', u'brand': u'ST', u'wechat_count': u'69', u'shop_name': u'\u8944\u6a0a\u534e\u6d0b\u5802ST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7366', u'upload_count': u'75', u'shop_code': u'H614ST', u'scandata': u'53', u'region': u'\u534e\u4e2d', u'rate': u'77'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u682a\u6d32\u5e02', u'reportdata': u'24', u'concatime': u'2017-06-16 ~ 2018-06-16', u'shop_address': u'\u6e56\u5357\u7701\u682a\u6d32\u5e02\u82a6\u6dde\u533a\u5efa\u8bbe\u4e2d\u8def1\u53f7\u682a\u6d32\u767e\u8d27\u5927\u697c1\u697cST\u4e13\u67dc', u'scanner_id': u'BL170307', u'scan_count': u'29', u'brand': u'ST', u'wechat_count': u'24', u'shop_name': u'\u682a\u6d32\u767e\u8d27ST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6872', u'upload_count': u'40', u'shop_code': u'H824ST', u'scandata': u'15', u'region': u'\u534e\u4e2d', u'rate': u'63'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'14', u'concatime': u'2017-05-19 ~ 2017-08-24', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u4e94\u4e00\u5927\u9053153\u53f7\u65b0\u4e16\u754c\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160239', u'scan_count': u'20', u'brand': u'ZH', u'wechat_count': u'14', u'shop_name': u'\u957f\u6c99\u65b0\u4e16\u754c\u65f6\u5c1a\u4e2d\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6600', u'upload_count': u'20', u'shop_code': u'HB12ZH', u'scandata': u'10', u'region': u'\u534e\u4e2d', u'rate': u'71'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'32', u'concatime': u'2017-05-19 ~ 2018-05-19', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def27\u53f7\u738b\u5e9c\u4e95\u767e\u8d27\u8d1f\u4e00\u697c', u'scanner_id': u'BL160186', u'scan_count': u'36', u'brand': u'SD', u'wechat_count': u'32', u'shop_name': u'\u957f\u6c99\u738b\u5e9c\u4e95\u767e\u8d27\u5973SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6634', u'upload_count': u'36', u'shop_code': u'HB09SD', u'scandata': u'22', u'region': u'\u534e\u4e2d', u'rate': u'69'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'59', u'concatime': u'2017-05-18 ~ 2018-05-18', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u96e8\u82b1\u533a\u6e58\u5e9c\u4e2d\u8def18\u53f7\u5fb7\u601d\u52e4\u56db\u5b63\u6c472\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL160166', u'scan_count': u'70', u'brand': u'ZH', u'wechat_count': u'59', u'shop_name': u'\u957f\u6c99\u5fb7\u601d\u52e4\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'6660', u'upload_count': u'70', u'shop_code': u'HB02ZH', u'scandata': u'52', u'region': u'\u534e\u4e2d', u'rate': u'88'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'27', u'concatime': u'2017-05-22 ~ 2018-05-22', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u6c49\u9633\u533a\u6c5f\u57ce\u5927\u9053388\u53f7A\u533a1\u697cA116\u5546\u94fa', u'scanner_id': u'BL160165', u'scan_count': u'37', u'brand': u'ZH', u'wechat_count': u'27', u'shop_name': u'\u6b66\u6c49\u6c38\u65fa\u68a6\u4e50\u57ce\u7ecf\u5f00\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'7128', u'upload_count': u'37', u'shop_code': u'HA08ZH', u'scandata': u'21', u'region': u'\u534e\u4e2d', u'rate': u'78'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'34', u'concatime': u'2017-05-17 ~ 2017-08-19', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u6c49\u9633\u533a\u9f99\u9633\u5927\u9053\u5927\u6d0b\u767e\u8d271\u697c\u601d\u52a0\u56fe\u4e13\u67dc', u'scanner_id': u'BL160156', u'scan_count': u'37', u'brand': u'ST', u'wechat_count': u'35', u'shop_name': u'\u6b66\u6c49\u9f99\u9633\u5927\u6d0bST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7123', u'upload_count': u'37', u'shop_code': u'H635ST', u'scandata': u'30', u'region': u'\u534e\u4e2d', u'rate': u'88'}, {u'province': u'\u6e56\u5317\u7701', u'city': u'\u6b66\u6c49\u5e02', u'reportdata': u'47', u'concatime': u'2017-05-22 ~ 2018-05-22', u'shop_address': u'\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u9752\u5c71\u533a\u548c\u5e73\u5927\u9053955\u53f7\u6b66\u5546\u4f17\u5706\u5e7f\u573a\u4e00\u697c\u5929\u7f8e\u610f\u4e13\u67dc      ', u'scanner_id': u'BL160148', u'scan_count': u'62', u'brand': u'TM', u'wechat_count': u'47', u'shop_name': u'\u6b66\u6c49\u6b66\u5546\u4f17\u5706\u5e7f\u573aTM', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'7099', u'upload_count': u'78', u'shop_code': u'HA35TM', u'scandata': u'39', u'region': u'\u534e\u4e2d', u'rate': u'83'}],
                                              u'page': 1})

    def test_search_provinceid(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=&regionid=100002&provinceid=430000&cityid=0'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'498', u'running_total_day': u'13', u'scan_count': u'613', u'rate': u'80%', u'wechat_count': u'499', u'upload_count': u'587', u'scandata': u'399'},
                                              u'paging': {u'page_count': 1, u'total_count': u'13', u'record_end': u'13', u'record_start': 1},
                                              u'list': [{u'province': u'\u6e56\u5357\u7701', u'city': u'\u8861\u9633\u5e02', u'reportdata': u'28', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u8861\u9633\u5e02\u96c1\u5cf0\u533a\u89e3\u653e\u8def121\u53f7(\u84b8\u6e58\u8def\u8def\u53e3)\u5927\u6d0b\u767e\u8d27\u4e00\u697c', u'scanner_id': u'BL170421', u'scan_count': u'34', u'brand': u'SD', u'wechat_count': u'28', u'shop_name': u'\u8861\u9633\u5927\u6d0b\u767e\u8d27SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6735', u'upload_count': u'34', u'shop_code': u'HB71SD', u'scandata': u'20', u'region': u'\u534e\u4e2d', u'rate': u'71'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u6e58\u6f6d\u5e02', u'reportdata': u'72', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u6e58\u6f6d\u5e02\u5cb3\u5858\u533a\u5efa\u8bbe\u8def\u53e3\u534e\u9686\u6b65\u6b65\u9ad8A\u680b\u4e00\u697cBL\u4e13\u67dc', u'scanner_id': u'BL170364', u'scan_count': u'94', u'brand': u'BL', u'wechat_count': u'72', u'shop_name': u'\u6e58\u6f6d\u534e\u9686\u6b65\u6b65\u9ad8BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6813', u'upload_count': u'93', u'shop_code': u'HB13BL', u'scandata': u'61', u'region': u'\u534e\u4e2d', u'rate': u'85'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u90f4\u5dde\u5e02', u'reportdata': u'93', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u90f4\u5dde\u5e02\u82cf\u4ed9\u533a\u516b\u4e00\u8def\u751f\u6e90\u65f6\u4ee3\u5e7f\u573a\u4e00\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL170359', u'scan_count': u'105', u'brand': u'BL', u'wechat_count': u'94', u'shop_name': u'\u90f4\u5dde\u751f\u6e90\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6720', u'upload_count': u'105', u'shop_code': u'HD07BL', u'scandata': u'86', u'region': u'\u534e\u4e2d', u'rate': u'92'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u6000\u5316\u5e02', u'reportdata': u'25', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u6000\u5316\u5e02\u9e64\u57ce\u533a\u8fce\u4e30\u897f\u8def207\u53f7\u743c\u5929\u5927\u53a6\u6b65\u6b65\u9ad8\u767e\u8d27\u4e00\u697c', u'scanner_id': u'BL170355', u'scan_count': u'36', u'brand': u'BL', u'wechat_count': u'25', u'shop_name': u'\u6000\u5316\u6b65\u6b65\u9ad8BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6773', u'upload_count': u'0', u'shop_code': u'HB38BL', u'scandata': u'23', u'region': u'\u534e\u4e2d', u'rate': u'92'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'25', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u4e07\u5bb6\u4e3d\u4e2d\u8def2\u6bb58\u53f7\u534e\u6668\u5546\u4e1a\u5e7f\u573a', u'scanner_id': u'BL170336', u'scan_count': u'31', u'brand': u'ZH', u'wechat_count': u'25', u'shop_name': u'\u957f\u6c99\u5965\u83b1\u901a\u7a0b\u6298\u6263\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6661', u'upload_count': u'31', u'shop_code': u'HB04ZH', u'scandata': u'16', u'region': u'\u534e\u4e2d', u'rate': u'64'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u682a\u6d32\u5e02', u'reportdata': u'24', u'concatime': u'2017-06-16 ~ 2018-06-16', u'shop_address': u'\u6e56\u5357\u7701\u682a\u6d32\u5e02\u82a6\u6dde\u533a\u5efa\u8bbe\u4e2d\u8def1\u53f7\u682a\u6d32\u767e\u8d27\u5927\u697c1\u697cST\u4e13\u67dc', u'scanner_id': u'BL170307', u'scan_count': u'29', u'brand': u'ST', u'wechat_count': u'24', u'shop_name': u'\u682a\u6d32\u767e\u8d27ST', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6872', u'upload_count': u'40', u'shop_code': u'H824ST', u'scandata': u'15', u'region': u'\u534e\u4e2d', u'rate': u'63'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'14', u'concatime': u'2017-05-19 ~ 2017-08-24', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u4e94\u4e00\u5927\u9053153\u53f7\u65b0\u4e16\u754c\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160239', u'scan_count': u'20', u'brand': u'ZH', u'wechat_count': u'14', u'shop_name': u'\u957f\u6c99\u65b0\u4e16\u754c\u65f6\u5c1a\u4e2d\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6600', u'upload_count': u'20', u'shop_code': u'HB12ZH', u'scandata': u'10', u'region': u'\u534e\u4e2d', u'rate': u'71'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'32', u'concatime': u'2017-05-19 ~ 2018-05-19', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def27\u53f7\u738b\u5e9c\u4e95\u767e\u8d27\u8d1f\u4e00\u697c', u'scanner_id': u'BL160186', u'scan_count': u'36', u'brand': u'SD', u'wechat_count': u'32', u'shop_name': u'\u957f\u6c99\u738b\u5e9c\u4e95\u767e\u8d27\u5973SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6634', u'upload_count': u'36', u'shop_code': u'HB09SD', u'scandata': u'22', u'region': u'\u534e\u4e2d', u'rate': u'69'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'59', u'concatime': u'2017-05-18 ~ 2018-05-18', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u96e8\u82b1\u533a\u6e58\u5e9c\u4e2d\u8def18\u53f7\u5fb7\u601d\u52e4\u56db\u5b63\u6c472\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL160166', u'scan_count': u'70', u'brand': u'ZH', u'wechat_count': u'59', u'shop_name': u'\u957f\u6c99\u5fb7\u601d\u52e4\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'6660', u'upload_count': u'70', u'shop_code': u'HB02ZH', u'scandata': u'52', u'region': u'\u534e\u4e2d', u'rate': u'88'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'10', u'concatime': u'2017-05-19 ~ 2018-05-19', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def69\u53f7\u6625\u5929\u767e\u8d273\u697c\u767e\u4e3d', u'scanner_id': u'BL160142', u'scan_count': u'12', u'brand': u'BL', u'wechat_count': u'10', u'shop_name': u'\u957f\u6c99\u6625\u5929\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6632', u'upload_count': u'12', u'shop_code': u'HB08BL', u'scandata': u'6', u'region': u'\u534e\u4e2d', u'rate': u'60'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'39', u'concatime': u'2017-05-18 ~ 2018-05-18', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u8299\u84c9\u5357\u8def\u4e09\u6bb527\u53f7', u'scanner_id': u'BL160138', u'scan_count': u'54', u'brand': u'ZH', u'wechat_count': u'39', u'shop_name': u'\u957f\u6c99\u53cb\u963f\u5965\u7279\u83b1\u65af\u9ad8\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u5965\u7279\u83b1\u65af', u'shop_id': u'6642', u'upload_count': u'54', u'shop_code': u'HB17ZH', u'scandata': u'27', u'region': u'\u534e\u4e2d', u'rate': u'69'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'43', u'concatime': u'2017-05-18 ~ 2018-05-18', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5cb3\u9e93\u533a\u91d1\u661f\u4e2d\u8def428\u53f7\u6b65\u6b65\u9ad8\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160113', u'scan_count': u'54', u'brand': u'BL', u'wechat_count': u'43', u'shop_name': u'\u957f\u6c99\u6b65\u6b65\u9ad8\u5e7f\u573a\u91d1\u661f\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6692', u'upload_count': u'54', u'shop_code': u'HB73BL', u'scandata': u'36', u'region': u'\u534e\u4e2d', u'rate': u'84'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'34', u'concatime': u'2017-05-19 ~ 2017-07-26', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u8f66\u7ad9\u8def1\u53f7\u963f\u6ce2\u7f57\u5e7f\u573a\u4e00\u697c\u767e\u4e3d', u'scanner_id': u'BL160084', u'scan_count': u'38', u'brand': u'BL', u'wechat_count': u'34', u'shop_name': u'\u957f\u6c99\u963f\u6ce2\u7f57\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6593', u'upload_count': u'38', u'shop_code': u'HB05BL', u'scandata': u'25', u'region': u'\u534e\u4e2d', u'rate': u'74'}],
                                              u'page': 1})

    def test_search_cityid(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=&regionid=100002&provinceid=430000&cityid=430100'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'256', u'running_total_day': u'8', u'scan_count': u'315', u'rate': u'76%', u'wechat_count': u'256', u'upload_count': u'315', u'scandata': u'194'},
                                              u'paging': {u'page_count': 1, u'total_count': u'8', u'record_end': u'8', u'record_start': 1},
                                              u'list': [{u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'25', u'concatime': u'2017-06-14 ~ 2018-06-14', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u4e07\u5bb6\u4e3d\u4e2d\u8def2\u6bb58\u53f7\u534e\u6668\u5546\u4e1a\u5e7f\u573a', u'scanner_id': u'BL170336', u'scan_count': u'31', u'brand': u'ZH', u'wechat_count': u'25', u'shop_name': u'\u957f\u6c99\u5965\u83b1\u901a\u7a0b\u6298\u6263\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6661', u'upload_count': u'31', u'shop_code': u'HB04ZH', u'scandata': u'16', u'region': u'\u534e\u4e2d', u'rate': u'64'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'14', u'concatime': u'2017-05-19 ~ 2017-08-24', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u4e94\u4e00\u5927\u9053153\u53f7\u65b0\u4e16\u754c\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160239', u'scan_count': u'20', u'brand': u'ZH', u'wechat_count': u'14', u'shop_name': u'\u957f\u6c99\u65b0\u4e16\u754c\u65f6\u5c1a\u4e2d\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6600', u'upload_count': u'20', u'shop_code': u'HB12ZH', u'scandata': u'10', u'region': u'\u534e\u4e2d', u'rate': u'71'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'32', u'concatime': u'2017-05-19 ~ 2018-05-19', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def27\u53f7\u738b\u5e9c\u4e95\u767e\u8d27\u8d1f\u4e00\u697c', u'scanner_id': u'BL160186', u'scan_count': u'36', u'brand': u'SD', u'wechat_count': u'32', u'shop_name': u'\u957f\u6c99\u738b\u5e9c\u4e95\u767e\u8d27\u5973SD', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6634', u'upload_count': u'36', u'shop_code': u'HB09SD', u'scandata': u'22', u'region': u'\u534e\u4e2d', u'rate': u'69'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'59', u'concatime': u'2017-05-18 ~ 2018-05-18', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u96e8\u82b1\u533a\u6e58\u5e9c\u4e2d\u8def18\u53f7\u5fb7\u601d\u52e4\u56db\u5b63\u6c472\u697c\u767e\u4e3d\u4e13\u67dc', u'scanner_id': u'BL160166', u'scan_count': u'70', u'brand': u'ZH', u'wechat_count': u'59', u'shop_name': u'\u957f\u6c99\u5fb7\u601d\u52e4\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u8d2d\u7269\u4e2d\u5fc3', u'shop_id': u'6660', u'upload_count': u'70', u'shop_code': u'HB02ZH', u'scandata': u'52', u'region': u'\u534e\u4e2d', u'rate': u'88'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'10', u'concatime': u'2017-05-19 ~ 2018-05-19', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def69\u53f7\u6625\u5929\u767e\u8d273\u697c\u767e\u4e3d', u'scanner_id': u'BL160142', u'scan_count': u'12', u'brand': u'BL', u'wechat_count': u'10', u'shop_name': u'\u957f\u6c99\u6625\u5929\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6632', u'upload_count': u'12', u'shop_code': u'HB08BL', u'scandata': u'6', u'region': u'\u534e\u4e2d', u'rate': u'60'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'39', u'concatime': u'2017-05-18 ~ 2018-05-18', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u8299\u84c9\u5357\u8def\u4e09\u6bb527\u53f7', u'scanner_id': u'BL160138', u'scan_count': u'54', u'brand': u'ZH', u'wechat_count': u'39', u'shop_name': u'\u957f\u6c99\u53cb\u963f\u5965\u7279\u83b1\u65af\u9ad8\u7aef\u7efc\u5408\u5e97', u'running_total_day': u'1', u'shop_type': u'\u5965\u7279\u83b1\u65af', u'shop_id': u'6642', u'upload_count': u'54', u'shop_code': u'HB17ZH', u'scandata': u'27', u'region': u'\u534e\u4e2d', u'rate': u'69'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'43', u'concatime': u'2017-05-18 ~ 2018-05-18', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5cb3\u9e93\u533a\u91d1\u661f\u4e2d\u8def428\u53f7\u6b65\u6b65\u9ad8\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160113', u'scan_count': u'54', u'brand': u'BL', u'wechat_count': u'43', u'shop_name': u'\u957f\u6c99\u6b65\u6b65\u9ad8\u5e7f\u573a\u91d1\u661f\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6692', u'upload_count': u'54', u'shop_code': u'HB73BL', u'scandata': u'36', u'region': u'\u534e\u4e2d', u'rate': u'84'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'34', u'concatime': u'2017-05-19 ~ 2017-07-26', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u8f66\u7ad9\u8def1\u53f7\u963f\u6ce2\u7f57\u5e7f\u573a\u4e00\u697c\u767e\u4e3d', u'scanner_id': u'BL160084', u'scan_count': u'38', u'brand': u'BL', u'wechat_count': u'34', u'shop_name': u'\u957f\u6c99\u963f\u6ce2\u7f57\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6593', u'upload_count': u'38', u'shop_code': u'HB05BL', u'scandata': u'25', u'region': u'\u534e\u4e2d', u'rate': u'74'}],
                                              u'page': 1})

    def test_search_brand_cityid(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=2017-07-01&to_date=2017-07-01&brand=BL&regionid=100002&provinceid=430000&cityid=430100'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'87', u'running_total_day': u'3', u'scan_count': u'104', u'rate': u'77%', u'wechat_count': u'87', u'upload_count': u'104', u'scandata': u'67'},
                                              u'paging': {u'page_count': 1, u'total_count': u'3', u'record_end': u'3', u'record_start': 1},
                                              u'list': [{u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'10', u'concatime': u'2017-05-19 ~ 2018-05-19', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def69\u53f7\u6625\u5929\u767e\u8d273\u697c\u767e\u4e3d', u'scanner_id': u'BL160142', u'scan_count': u'12', u'brand': u'BL', u'wechat_count': u'10', u'shop_name': u'\u957f\u6c99\u6625\u5929\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6632', u'upload_count': u'12', u'shop_code': u'HB08BL', u'scandata': u'6', u'region': u'\u534e\u4e2d', u'rate': u'60'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'43', u'concatime': u'2017-05-18 ~ 2018-05-18', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5cb3\u9e93\u533a\u91d1\u661f\u4e2d\u8def428\u53f7\u6b65\u6b65\u9ad8\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160113', u'scan_count': u'54', u'brand': u'BL', u'wechat_count': u'43', u'shop_name': u'\u957f\u6c99\u6b65\u6b65\u9ad8\u5e7f\u573a\u91d1\u661f\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6692', u'upload_count': u'54', u'shop_code': u'HB73BL', u'scandata': u'36', u'region': u'\u534e\u4e2d', u'rate': u'84'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'34', u'concatime': u'2017-05-19 ~ 2017-07-26', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u8f66\u7ad9\u8def1\u53f7\u963f\u6ce2\u7f57\u5e7f\u573a\u4e00\u697c\u767e\u4e3d', u'scanner_id': u'BL160084', u'scan_count': u'38', u'brand': u'BL', u'wechat_count': u'34', u'shop_name': u'\u957f\u6c99\u963f\u6ce2\u7f57\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6593', u'upload_count': u'38', u'shop_code': u'HB05BL', u'scandata': u'25', u'region': u'\u534e\u4e2d', u'rate': u'74'}],
                                              u'page': 1})

    def test_search_brand_cityid_type(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=&shop_code=&shop_type=百货商场&from_date=2017-07-01&to_date=2017-07-01&brand=BL&regionid=100002&provinceid=430000&cityid=430100'
        r = requests.get(url, cookies=self.cookie)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 0)
        self.assertEqual(self.result['data'],{u'count': {u'reportdata': u'87', u'running_total_day': u'3', u'scan_count': u'104', u'rate': u'77%', u'wechat_count': u'87', u'upload_count': u'104', u'scandata': u'67'},
                                              u'paging': {u'page_count': 1, u'total_count': u'3', u'record_end': u'3', u'record_start': 1},
                                              u'list': [{u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'10', u'concatime': u'2017-05-19 ~ 2018-05-19', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5929\u5fc3\u533a\u9ec4\u5174\u4e2d\u8def69\u53f7\u6625\u5929\u767e\u8d273\u697c\u767e\u4e3d', u'scanner_id': u'BL160142', u'scan_count': u'12', u'brand': u'BL', u'wechat_count': u'10', u'shop_name': u'\u957f\u6c99\u6625\u5929\u767e\u8d27BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6632', u'upload_count': u'12', u'shop_code': u'HB08BL', u'scandata': u'6', u'region': u'\u534e\u4e2d', u'rate': u'60'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'43', u'concatime': u'2017-05-18 ~ 2018-05-18', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u5cb3\u9e93\u533a\u91d1\u661f\u4e2d\u8def428\u53f7\u6b65\u6b65\u9ad8\u767e\u8d271\u697c\u767e\u4e3d', u'scanner_id': u'BL160113', u'scan_count': u'54', u'brand': u'BL', u'wechat_count': u'43', u'shop_name': u'\u957f\u6c99\u6b65\u6b65\u9ad8\u5e7f\u573a\u91d1\u661f\u5e97BL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6692', u'upload_count': u'54', u'shop_code': u'HB73BL', u'scandata': u'36', u'region': u'\u534e\u4e2d', u'rate': u'84'}, {u'province': u'\u6e56\u5357\u7701', u'city': u'\u957f\u6c99\u5e02', u'reportdata': u'34', u'concatime': u'2017-05-19 ~ 2017-07-26', u'shop_address': u'\u6e56\u5357\u7701\u957f\u6c99\u5e02\u8299\u84c9\u533a\u8f66\u7ad9\u8def1\u53f7\u963f\u6ce2\u7f57\u5e7f\u573a\u4e00\u697c\u767e\u4e3d', u'scanner_id': u'BL160084', u'scan_count': u'38', u'brand': u'BL', u'wechat_count': u'34', u'shop_name': u'\u957f\u6c99\u963f\u6ce2\u7f57\u5e7f\u573aBL', u'running_total_day': u'1', u'shop_type': u'\u767e\u8d27\u5546\u573a', u'shop_id': u'6593', u'upload_count': u'38', u'shop_code': u'HB05BL', u'scandata': u'25', u'region': u'\u534e\u4e2d', u'rate': u'74'}],
                                              u'page': 1})

    def test_not_login(self):
        url = self.base_url + '/mobile/count/scanner-summary?scanner_id=&shop_name=&shop_code=&shop_type=&from_date=&to_date=&brand=&regionid=0&provinceid=0&cityid=0'
        r = requests.get(url)
        self.result = r.json()
        self.assertEqual(self.result['errcode'], 90000)
        self.assertEqual(self.result['errmsg'],u'\u767b\u5f55\u5931\u6548/\u8d85\u65f6')

if __name__ == '__main__':
    unittest.main()
